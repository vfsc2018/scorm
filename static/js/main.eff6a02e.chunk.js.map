{"version":3,"sources":["components/CoursePlayer/Audio/Audio.module.scss","components/CoursePlayer/Main/Main.module.scss","components/CoursePlayer/Content/Slide/Slide.module.scss","components/CoursePlayer/Content/Youtube/Youtube.module.scss","components/CoursePlayer/Content/Quiz/Question/FillInTheBlanks/FillInTheBlanks.module.scss","components/CoursePlayer/UI/Help/Help.module.scss","components/CoursePlayer/Content/Video/Video.module.scss","components/CoursePlayer/Content/Game/Game.module.scss","components/CoursePlayer/UI/Spinner/Spinner.module.scss","components/CoursePlayer/UI/Icon/IconSuccess.module.scss","components/CoursePlayer/Menu/VideoPlayback/VideoPlayback.module.scss","components/CoursePlayer/UI/Icon/Icon.js","components/CoursePlayer/Header/Header.js","components/CoursePlayer/context/Label/LabelContext.tsx","components/CoursePlayer/context/Label/useLabel.tsx","components/CoursePlayer/context/Label/Label.tsx","components/CoursePlayer/UI/Progress/Progress.js","components/CoursePlayer/UI/Button/Button.js","components/CoursePlayer/Audio/Audio.js","components/CoursePlayer/context/UI/UIContext.tsx","components/CoursePlayer/NavFooter/NavFooter.js","components/CoursePlayer/Content/Slide/PlaceholderSlide.js","components/CoursePlayer/Content/Slide/Slide.js","components/CoursePlayer/Content/Youtube/Youtube.js","components/CoursePlayer/UI/ContainerPage/ContainerPage.js","components/CoursePlayer/UI/Feedback/Feedback.js","components/CoursePlayer/Form/Radio/Radio.js","components/CoursePlayer/Content/Quiz/Question/MultipleChoice/MultipleChoice.tsx","components/CoursePlayer/Content/Quiz/Question/Essay/Essay.tsx","components/CoursePlayer/Content/Quiz/Question/FillInTheBlanks/Sentence.tsx","components/CoursePlayer/Content/Quiz/Question/FillInTheBlanks/FillInTheBlanks.tsx","components/CoursePlayer/Content/Quiz/Question/Matching/DraggableItem.tsx","components/CoursePlayer/Content/Quiz/Question/Matching/DroppableArea.tsx","components/CoursePlayer/Content/Quiz/Question/Matching/Matching.tsx","components/CoursePlayer/Content/Quiz/Question/Matching/MatchingWrapper.tsx","components/CoursePlayer/Content/Quiz/Question/Question.js","components/CoursePlayer/utils/utils.js","components/CoursePlayer/UI/Badge/Badge.tsx","components/CoursePlayer/UI/Tooltip/TooltipContext.tsx","components/CoursePlayer/UI/Tooltip/Tooltip.tsx","components/CoursePlayer/UI/Tooltip/TooltipSelector.tsx","components/CoursePlayer/UI/Help/Help.js","components/CoursePlayer/UI/Alert/Alert.tsx","components/CoursePlayer/selectors/overalScoreSelector.ts","components/CoursePlayer/Content/Quiz/QuizResultOverall.tsx","components/CoursePlayer/Content/Quiz/QuizResult.tsx","components/CoursePlayer/Content/Quiz/Quiz.js","components/CoursePlayer/Content/Video/Video.js","components/CoursePlayer/utils/messenger.js","components/CoursePlayer/UI/Spinner/Spinner.js","components/CoursePlayer/Content/Game/Game.js","components/CoursePlayer/selectors/courseSelector.ts","components/CoursePlayer/Content/Agreement/Agreement.tsx","components/CoursePlayer/UI/ButtonAlt/ButtonAlt.tsx","components/CoursePlayer/Content/Certificate/CertificateItself.tsx","components/CoursePlayer/Content/Certificate/CertificateModal.tsx","components/CoursePlayer/Content/Certificate/Certificate.tsx","components/CoursePlayer/Main/Main.js","components/CoursePlayer/UI/Icon/IconSuccess.tsx","components/CoursePlayer/Menu/MenuItem/MenuItem.js","components/CoursePlayer/Menu/VideoPlayback/VideoPlayback.js","components/CoursePlayer/constants/version.js","components/CoursePlayer/Menu/Menu.js","components/CoursePlayer/UI/OutsiderAlerter/OutsiderAlerter.js","components/CoursePlayer/hooks/useScorm.js","components/CoursePlayer/hooks/useGlobal.js","components/CoursePlayer/hooks/usePrevious.js","components/CoursePlayer/Preloader/Preloader.tsx","components/CoursePlayer/UI/ConfirmDialog/ConfirmDialog.tsx","components/CoursePlayer/BookmarkDialog/BookmarkDialog.tsx","components/CoursePlayer/context/License/LicenseContext.tsx","components/CoursePlayer/UI/LicenseCheck/LicenseCheck.tsx","components/CoursePlayer/CoursePlayer.js","App.tsx","reportWebVitals.ts","index.tsx","components/CoursePlayer/Content/Quiz/Question/Matching/DroppableArea.module.scss","components/CoursePlayer/Content/Quiz/QuizResultOverall.module.scss","components/CoursePlayer/UI/LicenseCheck/LicenseCheck.module.scss","components/CoursePlayer/NavFooter/NavFooter.module.scss","components/CoursePlayer/UI/Badge/Badge.module.scss","components/CoursePlayer/Header/Header.module.scss","components/CoursePlayer/Content/Quiz/Question/Matching/DraggableItem.module.scss","components/CoursePlayer/Content/Certificate/CertificateItself.module.scss","components/CoursePlayer/Menu/MenuItem/MenuItem.module.scss","components/CoursePlayer/UI/Feedback/Feedback.module.scss","components/CoursePlayer/Content/Quiz/QuizResult.module.scss","components/CoursePlayer/UI/Alert/Alert.module.scss","components/CoursePlayer/UI/ConfirmDialog/ConfirmDialog.module.scss","components/CoursePlayer/Content/Quiz/Question/Question.module.scss","components/CoursePlayer/Content/Quiz/Question/FillInTheBlanks/Sentence.module.scss","components/CoursePlayer/UI/ButtonAlt/ButtonAlt.module.scss","components/CoursePlayer/CoursePlayer.module.scss","components/CoursePlayer/UI/Progress/Progress.module.scss","components/CoursePlayer/UI/Button/Button.module.scss","components/CoursePlayer/Content/Quiz/Quiz.module.scss","components/CoursePlayer/UI/ContainerPage/ContainerPage.module.scss","components/CoursePlayer/Form/Radio/Radio.module.scss","components/CoursePlayer/Content/Quiz/Question/Essay/Essay.module.scss","components/CoursePlayer/UI/Tooltip/Tooltip.module.scss","components/CoursePlayer/Content/Agreement/Agreement.module.scss","components/CoursePlayer/Content/Certificate/CertificateModal.module.scss","components/CoursePlayer/Menu/Menu.module.scss","components/CoursePlayer/context/Label/Label.module.scss","components/CoursePlayer/Content/Certificate/Certificate.module.scss","components/CoursePlayer/UI/Icon/Icon.module.scss","components/CoursePlayer/Content/Slide/PlaceholderSlide.module.scss","components/CoursePlayer/Content/Quiz/Question/MultipleChoice/MultipleChoice.module.scss","components/CoursePlayer/Content/Quiz/Question/Matching/Matching.module.scss","components/CoursePlayer/BookmarkDialog/BookmarkDialog.module.scss"],"names":["module","exports","Icon","props","icon","className","onClick","testId","library","add","faCoffee","faBars","faCheckCircle","faCircle","faTimesCircle","faVideo","faEdit","faTrash","faTrashAlt","faChevronRight","faChevronLeft","faQuestionCircle","faTimes","faExclamation","faAward","faDownload","faPrint","styles","Icon__clickable","Header","globalState","toggleMenu","getColorScheme","course","exitCourse","showCloseCourseButton","primary","style","backgroundColor","Header__left","Header__icon","Header__title","name","Header__right","Header__logo","backgroundImage","logo","baseURL","Header__closeIcon","initialState","labels","initialLabels","wildcards","config","defaultLanguage","language","undefined","languages","editing","editMode","untrackedLabels","setLanguage","toggleEditMode","addUntrackedLabel","labelReducer","state","action","type","payload","updatedLabels","_","cloneDeep","forEach","keys","key","get","includes","Error","set","err","console","error","browserLanguage","window","navigator","text","LabelContext","createContext","LabelProvider","useReducer","dispatch","useEffect","onLanguageChanged","isEmpty","setLabels","setWildcards","customLabels","appendLabels","Provider","value","children","useLabel","useContextSelector","c","label","options","getLabelKey","additionalWildcards","hasWildcards","allWildcards","wildcardsFound","wildcard","push","replace","getWildcards","replaceWildcards","ReactHtmlParser","getLabel","replaceAll","search","split","join","sanitizeKey","slugify","jsxToString","jsx","map","Array","isArray","el","typeToTag","propsToAttr","filter","tags","plainLabel","_label","Label","isLabelUntracked","hasLabel","isLabelTrackedInContext","_className","Label__highlighted","Label__highlighted__tracked","Label__highlighted__tracked__in__context","e","stopPropagation","preventDefault","memo","Progress","percent","showText","color","height","useSpring","width","from","Progress__bar__bg","div","Progress__bar__fg","Progress__text","Button","secondary","disabled","onMount","colorScheme","borderColor","buttonRef","useRef","current","ref","Audio","url","useState","forceRender","setForceRender","controls","autoPlay","controlsList","src","extname","background","blinkNext","setBackground","clearBackground","startBlinkNext","stopBlinkNext","confirmModal","isOpen","showConfirm","warn","hideConfirm","uiReducer","title","description","cancelLabel","confirmLabel","onConfirm","onClickOutside","UIContext","UIProvider","NavFooter","goNextPage","goPrevPage","getCoursePercentage","getCurrentPage","getTracking","isInFirstPage","isInLastPage","isNavigationModeFree","currentPage","pageTracking","resourceId","hasAudio","audio","NavFooter__progress","NavFooter__audio","NavFooter__navbuttons","NavFooter__button","NavFooter__nextButton","NavFooter__button__blink","completed","PlaceholderSlide","PlaceholderSlide__activity","Slide","filename","hyperlink","onPageCompleted","loaded","setLoaded","cursor","open","display","onLoad","onError","Youtube","settings","disableSeek","pageCompleted","opts","playerVars","autoplay","iv_load_policy","playsinline","rel","showinfo","disablekb","containerClassName","videoId","match","length","getYoutubeVideoId","onEnd","ContainerPage","ContainerPage__container","ContainerPage__title","borderBottomColor","ContainerPage__body","Feedback","correct","incorrect","Feedback__type","Feedback__icon","Feedback__text","Radio","id","checked","onChange","showAnswer","htmlFor","MultipleChoice","question","tracking","showCorrectAnswer","showYourAnswers","answer","submitted","allowMultipleAnswer","choices","handleChange","target","questionId","choice","toString","MultipleChoice__radio","Essay","answeredCorrectly","Essay__correct","Essay__incorrect","placeholder","rows","maxLength","defaultValue","acceptableResponses","exactResponse","r","Sentence","sentence","blanks","getValues","register","preview","Blank","idx","expectedResponse","userAnswer","filledCorrectly","toLowerCase","trim","autoComplete","minWidth","correctAnswer","_sentence","blank","startsWithBlank","substr","endsWithBlank","textBlocks","a","block","sentenceWithBlanks","textBlock","i","isLastTextBlock","FillInTheBlanks","useForm","defaultValues","watch","typeHere","useMemo","subscription","unsubscribe","DraggableItem","draggableId","draggableText","index","cannotDrag","isDraggingOver","minHeight","mountData","setMountData","getClassName","snapshot","item","itemWithArrow","isDragging","itemIsDragging","itemIsDraggingOver","itemIsCorrect","itemIsIncorrect","itemWrapper","clientHeight","isDragDisabled","provided","innerRef","draggableProps","dragHandleProps","faGripVertical","flex","textAlign","DroppableArea","droppableId","droppableText","handleRef","direction","dropzone","dropzoneIsDragging","draggingOverWith","draggingFromThisWith","droppableTextWrapper","droppableTextWrapperWithArrow","droppableTextWrapperNoLeftBorder","droppableTextWrapperCorrect","droppableTextWrapperIncorrect","Matching","matchingItems","matchingResponse","showFeedback","sameHeight","items","setItems","response","setResponse","changeDataPayload","setChangeDataPayload","setMinHeight","touched","setTouched","checkResponse","onlyIdFromDroppableId","onlyIdFromDraggableId","matchIds","textThatMatchesWithThisDraggagle","find","renderDroppables","ordered","orderBy","merged","responseDraggableId","filtered","isResponseCorrect","data","prevMinHeight","initialItems","order","size","shuffle","draggable","droppable","maxResponses","correctResponses","updatedChangeDataPayload","score","prevState","isEqual","onDragEnd","result","destination","source","updatedResponse","prevUpdatedResponse","onDragStart","left","right","MatchingWrapper","marginTop","Question","cur","max","hasQuizBackground","showAllQuestionsInPage","renderedQuestionType","resourceType","Question__counter","textImage","image","Question__image","Question__question","feedback","whenCorrect","whenIncorrect","Question__feedback","getWindowPosition","w","d","document","documentElement","body","getElementsByTagName","innerWidth","clientWidth","innerHeight","scrollTop","scrollLeft","scrollWidth","scrollHeight","cleanedObject","obj","Object","firestore","isReferenceField","Badge","success","warning","danger","cancel","purple","darken","clickable","visibleTooltips","showTooltip","hideTooltip","hideAllTooltips","TooltipContext","Tooltip","tooltip","bottom","trigger","blink","tooltipRef","place","tooltipId","t","isTooltipVisible","ReactTooltip","show","hide","tooltipHtml","tooltipHtmlWrapper","getContent","effect","ReactTooltip__html","multiline","event","html","Help","top","Alert","Alert__success","Alert__warning","Alert__danger","Alert__purple","Alert__primary","getOverallScore","scoreSum","passingScoreSum","completedAll","scores","getScores","s","passingScore","Math","round","passed","scoreByQuiz","quizzes","pages","p","quizzesToConsider","q","quiz","computeOverallScore","quizTracking","QuizResultOverall","setCourseScore","expanded","setExpanded","overallScore","isThisQuizInOverallScore","root","detail","badge","badgeMain","iconToggleExpand","hidden","alert","QuizResult","hasPassed","cannotProgressWhenFailed","Quiz__result","Quiz__result__detail","totalAnsweredCorrectly","totalAnswered","Quiz__result__passingScore","Quiz__result__passingScore__passed","Quiz__result__passingScore__failed","Quiz__result__passingScore__icon","Quiz","questions","curQuestion","setCurQuestion","reviewMode","setReviewMode","maxQuestion","initOrder","randomizeQuestions","setOrder","allowRetryWhenFailed","patchTracking","clearTracking","onPageStarted","player","quizFinished","setQuizFinished","quizStarted","started","randomize","inOrder","handleRetry","newOrder","onQuestionAddOrRemove","totalAnsweredIncorrectly","calculateQuizResult","isNaN","anyChoiceTouched","handleNextQuestion","getAllQuestionsInPage","_questions","o","canGoNextQuestion","isQuestionsSubmitted","canRetry","handleButtonOnMount","scrollIntoView","setTimeout","behavior","scrollIntoViewSmooth","Quiz__intro","renderIntro","Quiz__question__component","renderQuestions","renderResult","Quiz__footer","allQuestionsAnswered","canSubmit","sortBy","responseMatched","lowerCase","allBlanksAnsweredCorrectly","Video","random","setRandom","reloading","setReloading","videoRef","supposedCurrentTime","ceil","onEnded","onContextMenu","onTimeUpdate","seeking","currentTime","onSeeking","receiver","messengerEvent","addOnReceiveMessage","message","execFunction","onReceiveMessage","JSON","parse","_receivedData","_message","_param","param","executeMessage","theMessage","sendMessage","sourceWindow","_data","postMessage","stringify","origin","Spinner","Spinner__container","loading","Game","game","iframeRef","dataRef","addEventListener","messenger","frameWindow","contentWindow","_json","encoded","encodeURIComponent","encodeIt","shouldSetScore","gameResourceId","found","isLastInCourse","isThisGameLastInCourse","log","removeEventListener","process","frameBorder","Game__iframe","Agreement","checkboxLabel","buttonLabel","alreadyAcceptedLabel","agreed","setAgreed","Agreement__intro","whiteSpace","Agreement__checkbox","Agreement__footer","ButtonAlt","theme","mr","CertificateItself","scorm","courseTraking","courseId","initialScormData","studentName","certificateRef","updatedMessage","certificate","completedAt","Date","format","locale","ptLocale","esLocale","itLocale","deLocale","frLocale","ruLocale","formatDate","inner","main","signature","instructorName","instructor","instructorJob","CertificateModal","certificateDiv","setCertificateDiv","printDialogOpen","setPrintDialogOpen","toJpeg","quality","then","dataUrl","link","createElement","download","href","click","onRequestClose","overlayClassName","modalOverlayPrintDialogOpen","modalContent","modalContentInEditMode","ariaHideApp","topMenu","print","Certificate","courseCompleted","showCertificate","setShowCertificate","canViewCertificate","Certificate__intro","awardIcon","Main","page","isChangingPage","setIsChangingPage","timeout","clearTimeout","backgroundOpacity","opacity","video","youtubeUrl","renderPage","IconSuccess","MenuItem","active","borderLeftColor","MenuItem__icon","MenuItem__label","VideoPlayback","videoMetadata","pageResourceId","setError","VERSION","version","Menu","getPages","goPage","getIcon","facevideo","showMenu","Menu__title","Menu__list","_trackingPrevPage","_tracking","Menu__bottom","OutsideAlerter","setWrapperRef","bind","handleClickOutside","this","node","wrapperRef","ReactDOM","findDOMNode","contains","childElement","React","Children","only","cloneElement","Component","useScorm","previous","setPrevious","emulatedScormData","Promise","resolve","reject","scormData","initializeScorm","lastError","curRetry","interval","setInterval","clearInterval","getAPIHandle","loadPage","lessonLocation","doLMSGetValue","suspendData","lessonStatus","scoreRaw","studentId","unloadPage","setLessonStatus","doLMSSetValue","commit","doLMSCommit","setupScormScripts","onLoadPromises","file","script","async","onload","appendChild","all","res","catch","initializeScormAsync","setCompleted","callback","setPassed","setFailed","setLessonLocation","setSuspendData","compress","getSuspendData","decompress","setScore","exitScorm","close","parent","useGlobal","localLanguage","debouncedSetSuspendData","maxPage","curPage","updatedState","saveTrackingAsSuspendData","updatedState2","messages","scormReady","disableScorm","test","handleError","useCallback","debounce","getCountPagesCompleted","pagesCompleted","getPagesCompleted","completedPages","isCourseCompleted","onCourseCompleted","toast","navigationMode","initCourseData","restoreTracking","setMessageCourseCompleted","wasCompletedBefore","onPageChanged","setDisableScorm","disable","setScormReady","ready","setScormInitialData","initialData","setEditMode","setTestCallback","callbackFunction","setCoursePassed","setCourseFailed","setLocalLanguage","l","usePrevious","Preloader","stack","setStack","initialStack","pageIdx","filteredStack","Media","ConfirmDialog","confirmClassName","cancelClassName","handleCancel","content","overlay","portalClassName","portal","ConfirmDialogSuccess","ConfirmDialogDanger","BookmarkDialog","onDialogShow","onDialogHide","hasCheckedBookmark","lastVisitedPage","handleConfirm","bookmarkConfirmButton","bookmarkCancelButton","setVerifiedLicense","verifiedLicense","LicenseContext","LicenseProvider","license","LicenseCheck","serviceUrl","deniedCode","setDeniedCode","isJustAWarning","expired","callToAction","inactive","getCourseId","docId","axios","post","location","courseName","denied","licenseStatus","fetchLicense","messageContainer","warningIcon","dangerIcon","licenseInfo","licensedTo","okButton","CoursePlayer","testFunction","prevCurrentPage","isShownBookmarkDialog","setIsShownBookmarkDialog","doInitializeScorm","transition","CoursePlayer__menu","renderMenu","CoursePlayer__main","App","setCourse","isFetching","setIsFetching","fetchCourse","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.eff6a02e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Audio\":\"Audio_Audio__3ArMX\",\"fadein\":\"Audio_fadein__1N7vR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Main\":\"Main_Main__1hvAK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Slide\":\"Slide_Slide__gTOmP\",\"fadein\":\"Slide_fadein__3cYmG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Youtube\":\"Youtube_Youtube__3wNeo\",\"fadein\":\"Youtube_fadein__2tLC0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FillInTheBlanks\":\"FillInTheBlanks_FillInTheBlanks__mKpzo\",\"fadein\":\"FillInTheBlanks_fadein__11y9B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"Help_icon__3wGUf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Video\":\"Video_Video__R31ab\",\"fadein\":\"Video_fadein__1Bb0x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Game\":\"Game_Game__3C5yo\",\"fadein\":\"Game_fadein__3KgUi\",\"Game__iframe\":\"Game_Game__iframe__2NHmX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Spinner__container\":\"Spinner_Spinner__container__14khH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"IconSuccess_icon__3iAgI\",\"fadein\":\"IconSuccess_fadein__1Ktf4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"VideoPlayback\":\"VideoPlayback_VideoPlayback__3O2xE\",\"fadein\":\"VideoPlayback_fadein__36idq\"};","import React from 'react';\n\nimport styles from './Icon.module.scss';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport {\n  faCoffee,\n  faBars,\n  faCheckCircle,\n  faCircle,\n  faTimesCircle,\n  faVideo,\n  faEdit,\n  faTrash,\n  faTrashAlt,\n  faChevronRight,\n  faChevronLeft,\n  faQuestionCircle,\n  faTimes,\n  faExclamation,\n  faAward,\n  faDownload,\n  faPrint,\n} from '@fortawesome/free-solid-svg-icons';\n\nfunction Icon(props) {\n  const { icon, className = '', onClick, testId } = props;\n  library.add(\n    faCoffee,\n    faBars,\n    faCheckCircle,\n    faCircle,\n    faTimesCircle,\n    faVideo,\n    faEdit,\n    faTrash,\n    faTrashAlt,\n    faChevronRight,\n    faChevronLeft,\n    faQuestionCircle,\n    faTimes,\n    faExclamation,\n    faAward,\n    faDownload,\n    faPrint\n  );\n\n  function handleIconClick() {\n    onClick && onClick();\n  }\n\n  return (\n    <div\n      className={`${styles.Icon} ${\n        onClick ? styles.Icon__clickable : ''\n      } ${className}`}\n      onClick={handleIconClick}\n      data-testid={testId}\n    >\n      <FontAwesomeIcon icon={icon} />\n    </div>\n  );\n}\n\nexport default Icon;\n","import React from 'react';\n\nimport styles from './Header.module.scss';\nimport Icon from '../UI/Icon/Icon';\n\nfunction Header({ globalState }) {\n  const {\n    toggleMenu,\n    getColorScheme,\n    course,\n    exitCourse,\n    showCloseCourseButton,\n  } = globalState;\n  const { primary } = getColorScheme();\n\n  return (\n    <div className={styles.Header} style={{ backgroundColor: primary }}>\n      <div className={styles.Header__left}>\n        <Icon\n          icon=\"bars\"\n          onClick={toggleMenu}\n          className={styles.Header__icon}\n        />\n        <span className={styles.Header__title}>{course?.name}</span>\n      </div>\n      <div className={styles.Header__right}>\n        <div\n          className={styles.Header__logo}\n          style={{\n            backgroundImage: course?.logo?.name\n              ? `url('${course.baseURL}/${course?.logo?.name}')`\n              : null,\n          }}\n        />\n        {showCloseCourseButton && (\n          <Icon\n            icon=\"times\"\n            onClick={exitCourse}\n            className={styles.Header__closeIcon}\n            testId=\"close-course-button\"\n          />\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Header;\n","// useReducer with Typescript:\n// https://github.com/hswolff/youtube/blob/master/videos/why-i-love-usereducer/src/LoginUseReducerTypeScript.tsx\n\nimport React, { useReducer, ReactNode, useEffect } from 'react';\nimport { createContext } from 'use-context-selector';\nimport _ from 'lodash';\n\nconst initialState: ILabelState = {\n  labels: {},\n  initialLabels: {}, // if reset needed\n  wildcards: {},\n  config: {\n    defaultLanguage: 'en-US',\n    language: undefined,\n    languages: ['en-US', 'pt-BR', 'es-ES'],\n  },\n  editing: {\n    editMode: false,\n    untrackedLabels: {},\n  },\n  setLanguage: () => {},\n  toggleEditMode: () => {},\n  addUntrackedLabel: () => {},\n};\n\ntype ILanguage = 'en-US' | 'pt-BR' | 'es-ES' | string;\n\ntype ILabelState = {\n  labels: object;\n  initialLabels: object;\n  wildcards: object;\n  config: {\n    defaultLanguage: ILanguage;\n    language?: ILanguage;\n    languages: ILanguage[];\n  };\n  editing: {\n    editMode: boolean;\n    untrackedLabels: object;\n  };\n  setLanguage: Function;\n  toggleEditMode: Function;\n  addUntrackedLabel: Function;\n};\n\ntype ILabelAction =\n  | { type: 'SET_LABELS'; payload: object }\n  | { type: 'APPEND_LABELS'; payload: object }\n  | { type: 'RESET_LABELS' }\n  | { type: 'SET_WILDCARDS'; payload: object }\n  | { type: 'SET_LANGUAGE'; payload: ILanguage }\n  | { type: 'SET_LANGUAGES'; payload: ILanguage[] }\n  | { type: 'DETECT_LANGUAGE' }\n  | { type: 'TOGGLE_EDIT_MODE' }\n  | { type: 'ADD_UNTRACKED_LABEL'; payload: { key: string; text: string } };\n\nfunction labelReducer(state: ILabelState, action: ILabelAction): ILabelState {\n  switch (action.type) {\n    case 'SET_LABELS':\n      return {\n        ...state,\n        labels: action.payload,\n        initialLabels: action.payload,\n      };\n    case 'APPEND_LABELS':\n      let updatedLabels = _.cloneDeep(state.initialLabels);\n\n      try {\n        _.forEach(_.keys(action.payload), (key) => {\n          _.forEach(_.keys(_.get(action.payload, key)), (language) => {\n            if (!_.includes(state.config.languages, language))\n              throw new Error(`Language invalid: ${language}`);\n            _.set(\n              updatedLabels,\n              `${key}.${language}`,\n              _.get(action.payload, `${key}.${language}`)\n            );\n          });\n        });\n      } catch (err) {\n        console.error(err);\n      }\n\n      return {\n        ...state,\n        labels: updatedLabels,\n      };\n    case 'RESET_LABELS':\n      return {\n        ...state,\n        labels: state.initialLabels,\n      };\n    case 'SET_WILDCARDS':\n      return {\n        ...state,\n        wildcards: action.payload,\n      };\n    case 'SET_LANGUAGE':\n      return {\n        ...state,\n        config: {\n          ...state.config,\n          language: action.payload,\n        },\n      };\n    case 'SET_LANGUAGES':\n      return {\n        ...state,\n        config: {\n          ...state.config,\n          languages: action.payload,\n        },\n      };\n    case 'DETECT_LANGUAGE':\n      const browserLanguage = window?.navigator?.language;\n      // check if browser language is an available language\n      return {\n        ...state,\n        config: {\n          ...state.config,\n          // @ts-ignore\n          language: _.includes(state.config.languages, browserLanguage)\n            ? browserLanguage\n            : state.config.defaultLanguage,\n        },\n      };\n    case 'TOGGLE_EDIT_MODE':\n      return {\n        ...state,\n        editing: {\n          ...state.editing,\n          editMode: !state.editing.editMode,\n        },\n      };\n    case 'ADD_UNTRACKED_LABEL':\n      const { key, text } = action.payload;\n      return {\n        ...state,\n        editing: {\n          ...state.editing,\n          untrackedLabels: {\n            ...state.editing.untrackedLabels,\n            [key]: {\n              [state.config.languages[0]]: text,\n              [state.config.languages[1]]: null,\n              [state.config.languages[2]]: null,\n            },\n          },\n        },\n      };\n    default:\n      return state;\n  }\n}\n\nexport const LabelContext = createContext(initialState as ILabelState);\n\nexport default function LabelProvider(props: {\n  children?: ReactNode;\n  labels?: object;\n  wildcards?: object;\n  customLabels?: object;\n  language?: ILanguage;\n  languages?: ILanguage[];\n  onLanguageChanged?: Function;\n}) {\n  const [state, dispatch] = useReducer(labelReducer, initialState);\n\n  // Actions\n  // reminder: always dispatch; otherwise, is a SELECTOR, not an ACTION\n  function setLabels(labels = {} as object) {\n    dispatch({\n      type: 'SET_LABELS',\n      payload: labels,\n    });\n  }\n\n  function appendLabels(labels = {} as object) {\n    dispatch({\n      type: 'APPEND_LABELS',\n      payload: labels,\n    });\n  }\n\n  function resetLabels() {\n    dispatch({\n      type: 'RESET_LABELS',\n    });\n  }\n\n  function setWildcards(wildcards = {} as object) {\n    dispatch({\n      type: 'SET_WILDCARDS',\n      payload: wildcards,\n    });\n  }\n\n  function setLanguage(language: ILanguage) {\n    dispatch({\n      type: 'SET_LANGUAGE',\n      payload: language,\n    });\n  }\n\n  function setLanguages(languages: ILanguage[]) {\n    dispatch({\n      type: 'SET_LANGUAGES',\n      payload: languages,\n    });\n  }\n\n  function detectLanguage() {\n    dispatch({\n      type: 'DETECT_LANGUAGE',\n    });\n  }\n\n  function toggleEditMode() {\n    dispatch({\n      type: 'TOGGLE_EDIT_MODE',\n    });\n  }\n\n  function addUntrackedLabel(key: string, text: string) {\n    dispatch({\n      type: 'ADD_UNTRACKED_LABEL',\n      payload: { key, text },\n    });\n  }\n\n  useEffect(() => {\n    !props.language && detectLanguage();\n  }, []); // eslint-disable-line\n\n  useEffect(() => {\n    if (props.language) {\n      setLanguage(props.language);\n      props.onLanguageChanged && props.onLanguageChanged(props.language);\n    }\n  }, [props.language]); // eslint-disable-line\n\n  useEffect(() => {\n    props.languages && setLanguages(props.languages);\n  }, [props.languages]);\n\n  useEffect(() => {\n    !_.isEmpty(props.labels) && setLabels(props.labels);\n  }, [props.labels]);\n\n  useEffect(() => {\n    !_.isEmpty(props.wildcards) && setWildcards(props.wildcards);\n  }, [props.wildcards]);\n\n  useEffect(() => {\n    if (!_.isEmpty(props.customLabels)) {\n      appendLabels(props.customLabels);\n    } else {\n      resetLabels();\n    }\n  }, [props.customLabels]);\n\n  return (\n    <LabelContext.Provider\n      value={{\n        ...state,\n        setLanguage,\n        addUntrackedLabel,\n        toggleEditMode,\n      }}\n    >\n      {props.children}\n    </LabelContext.Provider>\n  );\n}\n","import { ReactNode } from 'react';\nimport slugify from 'slugify';\nimport { useContextSelector } from 'use-context-selector';\nimport _ from 'lodash';\nimport ReactHtmlParser from 'react-html-parser';\n\nimport { LabelContext } from './LabelContext';\n\nfunction useLabel() {\n  const { config, labels, wildcards } = useContextSelector(\n    LabelContext,\n    (c) => c\n  );\n\n  type IOptions = {\n    additionalWildcards?: object;\n  };\n\n  function label(text: string | ReactNode, options?: IOptions) {\n    return getLabel(text, options) || text;\n  }\n\n  function plainLabel(text: string | ReactNode, options?: IOptions): string {\n    const _label = label(text, options);\n    return Array.isArray(_label) ? _label.join('') : _label;\n  }\n\n  function getLabel(text: string | ReactNode, options?: IOptions) {\n    const defaultLanguage = config.language || config.defaultLanguage;\n    const key = getLabelKey(text);\n\n    let label;\n    try {\n      // get label from database (labels.json)\n      // for some reasons, must use || because sometimes comes undefined with _.get\n      label =\n        _.get(labels, `${key}.${defaultLanguage}`) ||\n        // @ts-ignore\n        labels[key][defaultLanguage];\n\n      // replace wildcards (if exists)\n      label = replaceWildcards(label, {\n        additionalWildcards: options?.additionalWildcards,\n      });\n    } catch (err) {}\n    return !!label ? ReactHtmlParser(label) : label;\n  }\n\n  function getLabelKey(text: string | ReactNode): string {\n    function replaceAll(text: string, search: string, replace: string): string {\n      return text.split(search).join(replace);\n    }\n\n    function sanitizeKey(text: string): string {\n      //const options = { remove: /[*+~.()'\"!:@<>]/g, strict: true };\n      const options = {};\n\n      text = text.replace(/<\\/?[^>]+(>|$)/g, ''); // remove html tags\n      text = slugify(text, options);\n      text = replaceAll(text, '\"', ''); // remove \"\n      text = replaceAll(text, '.', '_'); // replace . for _\n      text = replaceAll(text, ':', '_'); // replace : for _\n      text = replaceAll(text, '!', '_'); // replace ! for _\n      text = replaceAll(text, '?', '_'); // replace ? for _\n      return text;\n    }\n\n    try {\n      // @ts-ignore\n      return sanitizeKey(text);\n    } catch (err) {\n      // goes here if probably has JSX code\n      try {\n        let convertedText = jsxToString(text);\n        return sanitizeKey(convertedText);\n      } catch (err) {\n        // @ts-ignore\n        return text;\n      }\n    }\n  }\n\n  function replaceWildcards(text: string, options: IOptions) {\n    const { additionalWildcards = {} } = options;\n    if (!hasWildcards(text)) return text;\n    const allWildcards: object = { ...wildcards, ...additionalWildcards };\n    const wildcardsFound = getWildcards(text, { additionalWildcards });\n    _.forEach(wildcardsFound, (wildcard) => {\n      text = _.replace(text, wildcard, _.get(allWildcards, wildcard));\n    });\n    return text;\n  }\n\n  function hasWildcards(text: string): boolean {\n    return _.includes(text, '[[');\n  }\n\n  function getWildcards(text: string, options: any = {}) {\n    const { additionalWildcards = {} } = options;\n    const allWildcards = { ...wildcards, ...additionalWildcards };\n    const wildcardsFound: string[] = [];\n    _.forEach(_.keys(allWildcards), (wildcard) => {\n      while (_.includes(text, wildcard)) {\n        wildcardsFound.push(wildcard);\n        text = _.replace(text, wildcard, '');\n      }\n    });\n    return wildcardsFound;\n  }\n\n  function jsxToString(jsx: any): string {\n    try {\n      const string = _.map(Array.isArray(jsx) ? jsx : [jsx], (el) => {\n        return el?.type && el?.props?.children\n          ? `<${typeToTag(el.type, el?.props)}>${jsxToString(\n              el.props.children\n            )}</${typeToTag(el.type)}>`\n          : el;\n      });\n      return string.join('');\n    } catch (err) {\n      throw err;\n    }\n\n    function typeToTag(type: any, props: object = {}) {\n      function propsToAttr(props: any) {\n        const keys = _.filter(_.keys(props), (key) => key !== 'children');\n        return _.map(keys, (key) => `${key}=\"${props[key]}\"`).join(' ');\n      }\n      const tags = ['span', 'strong', 'div', 'a'];\n      return tags.includes(type) ? `${type} ${propsToAttr(props)}` : '';\n    }\n  }\n\n  return { label, plainLabel, getLabelKey, jsxToString };\n}\n\nexport default useLabel;\n","import React, { memo, ReactNode } from 'react';\nimport { useContextSelector } from 'use-context-selector';\nimport _ from 'lodash';\n\nimport styles from './Label.module.scss';\nimport { LabelContext } from './LabelContext';\nimport useLabel from './useLabel';\n\nfunction Label(props: { children: ReactNode; wildcards?: object }) {\n  const { labels, editing, addUntrackedLabel } = useContextSelector(\n    LabelContext,\n    (c) => c\n  );\n  const { label, getLabelKey, jsxToString } = useLabel();\n  const { editMode, untrackedLabels } = editing;\n\n  function hasLabel(text: string | ReactNode) {\n    const key = getLabelKey(text);\n    return !!_.get(labels, `${key}`);\n  }\n\n  const _label =\n    label(props.children, { additionalWildcards: props.wildcards }) ||\n    props.children;\n\n  if (!editMode) return _label || null;\n\n  const isLabelUntracked = editMode && !hasLabel(props.children);\n  const isLabelTrackedInContext = _.get(\n    untrackedLabels,\n    getLabelKey(props.children)\n  );\n\n  const _className = [styles.Label__highlighted];\n  !isLabelUntracked && _className.push(styles.Label__highlighted__tracked);\n  isLabelTrackedInContext &&\n    _className.push(styles.Label__highlighted__tracked__in__context);\n\n  function handleClick(e: React.MouseEvent) {\n    if (!isLabelUntracked) return;\n    e.stopPropagation();\n    e.preventDefault();\n    addUntrackedLabel(getLabelKey(props.children), jsxToString(props.children));\n  }\n\n  return (\n    <span className={_className.join(' ')} onClick={handleClick}>\n      {_label}\n    </span>\n  );\n}\n\nexport default memo(Label);\n","import React from 'react';\nimport { useSpring, animated } from 'react-spring';\nimport Label from '../../context/Label/Label';\n\nimport styles from './Progress.module.scss';\n\nfunction Progress({\n  percent,\n  showText,\n  color = '#333333',\n  height = '3px',\n  className,\n}) {\n  const props = useSpring({\n    width: `${percent}%`,\n    backgroundColor: color,\n    from: { width: '0%' },\n  });\n\n  const _className = [styles.Progress];\n  className && _className.push(className);\n\n  return (\n    <div className={_className.join(' ')}>\n      <div\n        className={styles.Progress__bar__bg}\n        style={{ backgroundColor: `${color}50`, height }}\n      >\n        <animated.div className={styles.Progress__bar__fg} style={props} />\n      </div>\n      {showText && (\n        <div className={styles.Progress__text} style={{ color }}>\n          {percent}% <Label>completed</Label>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Progress;\n","import React, { useEffect, useRef } from 'react';\n\nimport styles from './Button.module.scss';\n\nfunction Button(props) {\n  const {\n    children,\n    onClick,\n    primary,\n    secondary,\n    disabled,\n    className,\n    globalState,\n    onMount,\n    testId,\n  } = props;\n  const colorScheme = globalState\n    ? globalState.getColorScheme()\n    : { primary: '#cccccc' };\n\n  const _className = [styles.Button];\n  primary && _className.push(styles['--primary']);\n  secondary && _className.push(styles['--secondary']);\n  disabled && _className.push(styles['--disabled']);\n  className && _className.push(className);\n\n  let style = {};\n  if (!disabled && primary)\n    style = { ...style, backgroundColor: colorScheme.primary };\n  if (!disabled && secondary)\n    style = {\n      ...style,\n      color: colorScheme.primary,\n      borderColor: colorScheme.primary,\n    };\n\n  function handleClick() {\n    onClick && !disabled && onClick();\n  }\n\n  const buttonRef = useRef();\n  useEffect(() => {\n    onMount && onMount(buttonRef.current);\n  }, []); // eslint-disable-line\n\n  return (\n    <div\n      ref={buttonRef}\n      className={_className.join(' ')}\n      style={style}\n      onClick={handleClick}\n      data-testid={testId}\n    >\n      {children}\n    </div>\n  );\n}\n\nexport default Button;\n","import React, { useState, useEffect } from 'react';\nimport { extname } from 'path';\nimport { replace } from 'lodash';\n\nimport styles from './Audio.module.scss';\n\nfunction Audio({ url }) {\n  const [forceRender, setForceRender] = useState(false);\n\n  useEffect(() => {\n    setForceRender(true);\n  }, [url]);\n\n  useEffect(() => {\n    forceRender && setForceRender(false);\n  }, [forceRender]);\n\n  if (forceRender) return null;\n\n  return (\n    <audio controls autoPlay controlsList=\"nodownload\" className={styles.Audio}>\n      <source src={url} type={`audio/${replace(extname(url), '.', '')}`} />\n      Your browser does not support the audio element.\n    </audio>\n  );\n}\n\nexport default Audio;\n","// useReducer with Typescript:\n// https://github.com/hswolff/youtube/blob/master/videos/why-i-love-usereducer/src/LoginUseReducerTypeScript.tsx\n\nimport React, { useReducer, ReactNode } from 'react';\nimport { createContext } from 'use-context-selector';\n\nconst initialState: IUIState = {\n  background: {},\n  blinkNext: false,\n  setBackground: () => {},\n  clearBackground: () => {},\n  startBlinkNext: () => {},\n  stopBlinkNext: () => {},\n  confirmModal: {\n    isOpen: false,\n  },\n  showConfirm: () => console.warn('function_not_defined'),\n  hideConfirm: () => console.warn('function_not_defined'),\n};\n\ntype IUIState = {\n  background: IBackground;\n  blinkNext: boolean;\n  setBackground: (background: IBackground) => void;\n  clearBackground: () => void;\n  startBlinkNext: () => void;\n  stopBlinkNext: () => void;\n  confirmModal: IConfirmModal;\n  showConfirm: (confirmModal: IConfirmModal) => void;\n  hideConfirm: () => void;\n};\n\ntype IConfirmModal = {\n  type?: 'success' | 'danger';\n  title?: string | ReactNode;\n  description?: string | ReactNode;\n  cancelLabel?: string | ReactNode;\n  confirmLabel?: string | ReactNode;\n  isOpen?: boolean;\n  onConfirm?: () => void;\n  onClickOutside?: () => void;\n  confirmClassName?: string;\n  cancelClassName?: string;\n};\n\ntype IBackground = {\n  image?: {\n    url: string;\n    name: string;\n    fullPath: string;\n  };\n  style?: object;\n  opacity?: number;\n};\n\ntype IUIAction =\n  | { type: 'SET_BACKGROUND'; payload: IBackground }\n  | { type: 'CLEAR_BACKGROUND' }\n  | { type: 'START_BLINK_NEXT' }\n  | { type: 'STOP_BLINK_NEXT' }\n  | {\n      type: 'SHOW_CONFIRM';\n      payload: IConfirmModal;\n    }\n  | {\n      type: 'HIDE_CONFIRM';\n    };\n\nfunction uiReducer(state: IUIState, action: IUIAction): IUIState {\n  switch (action.type) {\n    case 'SET_BACKGROUND':\n      return {\n        ...state,\n        background: action.payload,\n      };\n    case 'CLEAR_BACKGROUND':\n      return {\n        ...state,\n        background: {},\n      };\n    case 'START_BLINK_NEXT':\n      return {\n        ...state,\n        blinkNext: true,\n      };\n    case 'STOP_BLINK_NEXT':\n      return {\n        ...state,\n        blinkNext: false,\n      };\n    case 'SHOW_CONFIRM':\n      return {\n        ...state,\n        confirmModal: { ...action.payload, isOpen: true },\n      };\n\n    case 'HIDE_CONFIRM':\n      return {\n        ...state,\n        confirmModal: {\n          // reset everything\n          isOpen: false,\n          type: undefined,\n          title: undefined,\n          description: undefined,\n          cancelLabel: undefined,\n          confirmLabel: undefined,\n          onConfirm: undefined,\n          onClickOutside: undefined,\n        },\n      };\n    default:\n      return state;\n  }\n}\n\nexport const UIContext = createContext(initialState as IUIState);\n\nexport default function UIProvider(props: { children?: ReactNode }) {\n  const [state, dispatch] = useReducer(uiReducer, initialState);\n\n  // Actions\n  // reminder: always dispatch; otherwise, is a SELECTOR, not an ACTION\n  function setBackground(background = {} as IBackground) {\n    dispatch({\n      type: 'SET_BACKGROUND',\n      payload: background,\n    });\n  }\n\n  function clearBackground() {\n    dispatch({\n      type: 'CLEAR_BACKGROUND',\n    });\n  }\n\n  function startBlinkNext() {\n    dispatch({\n      type: 'START_BLINK_NEXT',\n    });\n  }\n\n  function stopBlinkNext() {\n    dispatch({\n      type: 'STOP_BLINK_NEXT',\n    });\n  }\n\n  function showConfirm(confirmModal: IConfirmModal) {\n    dispatch({\n      type: 'SHOW_CONFIRM',\n      payload: confirmModal,\n    });\n  }\n\n  function hideConfirm() {\n    dispatch({\n      type: 'HIDE_CONFIRM',\n    });\n  }\n\n  return (\n    <UIContext.Provider\n      value={{\n        ...state,\n        setBackground,\n        clearBackground,\n        startBlinkNext,\n        stopBlinkNext,\n        showConfirm,\n        hideConfirm,\n      }}\n    >\n      {props.children}\n    </UIContext.Provider>\n  );\n}\n","import React from 'react';\nimport _ from 'lodash';\n\nimport styles from './NavFooter.module.scss';\nimport Progress from '../UI/Progress/Progress';\nimport Button from '../UI/Button/Button';\nimport Audio from '../Audio/Audio';\nimport Label from '../context/Label/Label';\nimport { useContextSelector } from 'use-context-selector';\nimport { UIContext } from '../context/UI/UIContext';\n\nfunction NavFooter({ globalState }) {\n  const {\n    goNextPage,\n    goPrevPage,\n    getColorScheme,\n    getCoursePercentage,\n    getCurrentPage,\n    course,\n    getTracking,\n    isInFirstPage,\n    isInLastPage,\n    isNavigationModeFree,\n  } = globalState;\n  const { primary } = getColorScheme();\n  const currentPage = getCurrentPage();\n  const pageTracking = getTracking(currentPage.resourceId);\n  const stopBlinkNext = useContextSelector(UIContext, (c) => c.stopBlinkNext);\n  const blinkNext = useContextSelector(UIContext, (c) => c.blinkNext);\n\n  const hasAudio = !!currentPage?.audio && !_.isEmpty(currentPage?.audio?.name);\n\n  return (\n    <div className={styles.NavFooter} style={{ backgroundColor: primary }}>\n      <Progress\n        percent={getCoursePercentage()}\n        showText\n        color=\"#ffffff\"\n        className={styles.NavFooter__progress}\n      />\n      {hasAudio && (\n        <div className={styles.NavFooter__audio}>\n          <Audio url={`${course.baseURL}/${currentPage?.audio.name}`} />\n        </div>\n      )}\n      <div className={styles.NavFooter__navbuttons}>\n        <Button\n          onClick={() => {\n            goPrevPage();\n            stopBlinkNext();\n          }}\n          globalState={globalState}\n          className={styles.NavFooter__button}\n          disabled={isInFirstPage()}\n        >\n          <Label>previous</Label>\n        </Button>\n        <Button\n          onClick={() => {\n            goNextPage();\n            stopBlinkNext();\n          }}\n          globalState={globalState}\n          className={[\n            styles.NavFooter__button,\n            styles.NavFooter__nextButton,\n            blinkNext ? styles.NavFooter__button__blink : '',\n          ].join(' ')}\n          disabled={\n            (!pageTracking.completed && !isNavigationModeFree) || isInLastPage()\n          }\n          testId=\"next-button\"\n        >\n          <Label>next</Label>\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nexport default NavFooter;\n","import React from 'react';\n\nimport styles from './PlaceholderSlide.module.scss';\n\nfunction PlaceholderSlide({ children }) {\n  return (\n    <div className={styles.PlaceholderSlide}>\n      <div className={styles.PlaceholderSlide__activity}>{children}</div>\n    </div>\n  );\n}\n\nexport default PlaceholderSlide;\n","import React, { useEffect, useState } from 'react';\nimport PlaceholderSlide from './PlaceholderSlide';\n\nimport styles from './Slide.module.scss';\n\nfunction Slide({ filename, baseURL, hyperlink = {}, globalState }) {\n  const { onPageCompleted } = globalState;\n  const [loaded, setLoaded] = useState(false);\n\n  useEffect(() => {\n    if (loaded) onPageCompleted();\n  }, [filename, loaded]); //eslint-disable-line\n\n  function handleOpenHyperlink() {\n    hyperlink?.url && window.open(hyperlink?.url);\n  }\n\n  const src = `${baseURL}/${filename}`;\n\n  if (!loaded)\n    return (\n      <PlaceholderSlide>\n        {/* eslint-disable-next-line */}\n        <img\n          src={src}\n          style={{ display: 'none' }}\n          onLoad={() => setLoaded(true)}\n          onError={() => setLoaded(true)} // to not block to next return\n        />\n      </PlaceholderSlide>\n    );\n\n  return (\n    <div\n      className={styles.Slide}\n      style={{\n        backgroundImage: `url('${src}')`,\n        cursor: hyperlink?.url ? 'pointer' : undefined,\n      }}\n      onClick={handleOpenHyperlink}\n    ></div>\n  );\n}\n\nexport default Slide;\n","import React from 'react';\nimport ReactYoutube from 'react-youtube';\nimport { useContextSelector } from 'use-context-selector';\nimport { UIContext } from '../../context/UI/UIContext';\n\nimport styles from './Youtube.module.scss';\n\nfunction Youtube({ url, settings = {}, globalState }) {\n  const { onPageCompleted, getCurrentPage, getTracking } = globalState;\n  const { disableSeek } = settings;\n  const currentPage = getCurrentPage();\n  const pageTracking = getTracking(currentPage.resourceId);\n  const pageCompleted = pageTracking?.completed;\n  const startBlinkNext = useContextSelector(UIContext, (c) => c.startBlinkNext);\n\n  function getYoutubeVideoId(url) {\n    try {\n      var regExp =\n        /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#&?]*).*/;\n      var match = url.match(regExp);\n      return match && match[7].length === 11 ? match[7] : false;\n    } catch (err) {\n      return false;\n    }\n  }\n\n  const opts = {\n    height: '100%',\n    width: '100%',\n    playerVars: {\n      // https://developers.google.com/youtube/player_parameters\n      autoplay: 1,\n      iv_load_policy: 3,\n      playsinline: 1,\n      rel: 0,\n      showinfo: 0,\n      controls: disableSeek && !pageCompleted ? 0 : 1,\n      disablekb: disableSeek && !pageCompleted ? 1 : 0,\n    },\n  };\n\n  return (\n    <ReactYoutube\n      containerClassName={styles.Youtube}\n      videoId={getYoutubeVideoId(url)}\n      opts={opts}\n      onEnd={() => onPageCompleted(() => startBlinkNext())}\n    />\n  );\n}\n\nexport default Youtube;\n","import React from 'react';\n\nimport styles from './ContainerPage.module.scss';\n\nfunction ContainerPage({ title, children, className = '', globalState }) {\n  const { primary } = globalState.getColorScheme();\n\n  return (\n    <div className={`${styles.ContainerPage} ${className}`}>\n      <div className={styles.ContainerPage__container}>\n        {title && (\n          <div className={styles.ContainerPage__title}>\n            <h2 style={{ borderBottomColor: primary }}>{title}</h2>\n          </div>\n        )}\n        <div className={styles.ContainerPage__body}>{children}</div>\n      </div>\n    </div>\n  );\n}\n\nexport default ContainerPage;\n","import React from 'react';\n\nimport styles from './Feedback.module.scss';\nimport Icon from '../Icon/Icon';\nimport Label from '../../context/Label/Label';\n\nfunction Feedback({ children, correct, incorrect, className }) {\n  const _className = [styles.Feedback];\n  correct && _className.push(styles['--correct']);\n  incorrect && _className.push(styles['--incorrect']);\n  className && _className.push(className);\n\n  return (\n    <div className={_className.join(' ')}>\n      <div className={styles.Feedback__type}>\n        <Icon\n          icon={correct ? 'check-circle' : 'times-circle'}\n          className={styles.Feedback__icon}\n        />\n        <span>\n          {correct ? <Label>correct</Label> : <Label>incorrect</Label>}\n        </span>\n      </div>\n      <div className={styles.Feedback__text}>{children}</div>\n    </div>\n  );\n}\n\nexport default Feedback;\n","import React from 'react';\n//import { generateHash } from 'random-hash';\n\nimport styles from './Radio.module.scss';\n\nfunction Radio({\n  name,\n  id,\n  label,\n  value,\n  checked,\n  onChange,\n  correct,\n  incorrect,\n  showAnswer,\n  disabled,\n  type,\n  className,\n}) {\n  //const id = generateHash({ length: 6 });\n\n  function handleChange(e) {\n    onChange && onChange(e);\n  }\n\n  const _className = [styles.Radio];\n  correct && _className.push(styles['--correct']);\n  incorrect && _className.push(styles['--incorrect']);\n  showAnswer && _className.push(styles['--showAnswer']);\n  className && _className.push(className);\n\n  return (\n    <div className={_className.join(' ')}>\n      <input\n        name={name}\n        id={id}\n        type={type || 'radio'}\n        value={value}\n        checked={checked}\n        onChange={handleChange}\n        disabled={disabled}\n      />\n      <label htmlFor={id}>{label}</label>\n    </div>\n  );\n}\n\nexport default Radio;\n","import React from 'react';\nimport _ from 'lodash';\n\nimport styles from './MultipleChoice.module.scss';\nimport Radio from '../../../../Form/Radio/Radio';\n\ntype MultipleChoiceProps = {\n  question: any;\n  tracking: any;\n  config: any;\n  onChange: Function;\n};\n\nfunction MultipleChoice(props: MultipleChoiceProps) {\n  const { question, tracking, config, onChange } = props;\n  const { showCorrectAnswer, showYourAnswers } = config;\n  const { answer, submitted } = tracking;\n\n  const allowMultipleAnswer =\n    _.filter(question.choices, (c) => c.correct).length > 1;\n\n  function handleChange(e: any) {\n    const { id, name, value, type, checked } = e.target;\n    onChange &&\n      onChange(e, {\n        id,\n        name,\n        value,\n        type,\n        checked,\n        questionId: question.resourceId,\n      });\n  }\n\n  return (\n    <div className={styles.MultipleChoice}>\n      {_.map(question.choices, (choice) => {\n        const checked = _.includes(answer, choice.resourceId.toString());\n        return (\n          <Radio\n            id={choice.resourceId}\n            type={allowMultipleAnswer ? 'checkbox' : null}\n            name={question.resourceId}\n            key={choice.resourceId}\n            label={choice.text}\n            value={choice.resourceId}\n            checked={checked}\n            onChange={handleChange}\n            disabled={submitted}\n            correct={showYourAnswers && checked && submitted && choice.correct}\n            incorrect={\n              showYourAnswers && checked && submitted && !choice.correct\n            }\n            showAnswer={showCorrectAnswer && submitted && choice.correct}\n            className={styles.MultipleChoice__radio}\n          />\n        );\n      })}\n    </div>\n  );\n}\n\nexport default MultipleChoice;\n","import React from 'react';\nimport _ from 'lodash';\n\nimport styles from './Essay.module.scss';\nimport Label from '../../../../context/Label/Label';\nimport useLabel from '../../../../context/Label/useLabel';\n\ntype EssayProps = {\n  question: any;\n  tracking: any;\n  config: any;\n  onChange: Function;\n};\n\nfunction Essay(props: EssayProps) {\n  const { question, tracking, config, onChange } = props;\n  const { showCorrectAnswer, showYourAnswers } = config;\n  const { answer, submitted, answeredCorrectly } = tracking;\n  const { plainLabel } = useLabel();\n\n  function handleChange(e: any) {\n    const { id, name, value, type } = e.target;\n    onChange &&\n      onChange(e, {\n        id,\n        name,\n        value,\n        type,\n        questionId: question.resourceId,\n      });\n  }\n\n  const _className = [styles.Essay];\n  submitted &&\n    showYourAnswers &&\n    answeredCorrectly &&\n    _className.push(styles.Essay__correct);\n  submitted &&\n    showYourAnswers &&\n    !answeredCorrectly &&\n    _className.push(styles.Essay__incorrect);\n\n  return (\n    <div className={_className.join(' ')}>\n      <textarea\n        id={question.resourceId}\n        name={question.resourceId}\n        placeholder={plainLabel('Type your answer here')}\n        onChange={handleChange}\n        disabled={submitted}\n        rows={3}\n        maxLength={240}\n        defaultValue={submitted ? answer : undefined}\n      />\n\n      {showCorrectAnswer && submitted && (\n        <p className={styles.acceptableResponses}>\n          {question.exactResponse ? (\n            <Label>Acceptable response (must contain all words)</Label>\n          ) : (\n            <Label>Acceptable responses</Label>\n          )}\n          {': '}\n          {_.map(question.acceptableResponses, (r) => r.text).join(', ')}\n        </p>\n      )}\n    </div>\n  );\n}\n\nexport default Essay;\n","import React, { memo } from 'react';\nimport _ from 'lodash';\n\nimport styles from './Sentence.module.scss';\n\ntype SentenceProps = {\n  sentence: string;\n  blanks: any[];\n  submitted?: boolean;\n  showYourAnswers?: boolean;\n  showCorrectAnswer?: boolean;\n  getValues?: Function;\n  register?: Function;\n  className?: string;\n  preview?: boolean;\n  style?: object;\n  placeholder?: string;\n  onClick?: React.MouseEventHandler<HTMLParagraphElement>;\n};\n\nfunction Sentence({\n  sentence = '',\n  blanks,\n  submitted,\n  showYourAnswers,\n  showCorrectAnswer,\n  getValues = () => {},\n  register = () => {},\n  className = '',\n  preview,\n  style,\n  placeholder,\n  onClick = () => {},\n}: SentenceProps) {\n  function Blank({ idx }: { idx: number }) {\n    const id = blanks[idx]?.id;\n    const expectedResponse = blanks[idx]?.text;\n    const userAnswer = getValues(id) || '';\n\n    if (preview)\n      return <span className={styles.preview}>{expectedResponse}</span>;\n\n    // warning: DO NOT use _.lowerCase (was crashing when using caps in mid string: ex: SuPeRHeRo)\n    const filledCorrectly =\n      submitted &&\n      expectedResponse.toLowerCase().trim() === userAnswer.toLowerCase().trim();\n\n    return (\n      <span>\n        <input\n          id={id}\n          type=\"text\"\n          autoComplete=\"off\"\n          placeholder={placeholder}\n          {...register(id)}\n          className={\n            showYourAnswers && submitted\n              ? filledCorrectly\n                ? styles.correct\n                : styles.incorrect\n              : undefined\n          }\n          style={{ minWidth: `${expectedResponse.length * 10}px` }}\n          disabled={submitted}\n        />\n        {submitted && showCorrectAnswer && !filledCorrectly && (\n          <span className={styles.correctAnswer} data-testid=\"expectedResponse\">\n            ({expectedResponse})\n          </span>\n        )}\n      </span>\n    );\n  }\n\n  const wildcard = '[*]';\n\n  let _sentence = sentence;\n  _.forEach(blanks, (blank) => {\n    _sentence = _.replace(_sentence, blank?.text, wildcard);\n  });\n\n  const startsWithBlank = _sentence.substr(0, wildcard.length) === wildcard;\n  const endsWithBlank =\n    _sentence.substr(_sentence.length - wildcard.length, wildcard.length) ===\n    wildcard;\n\n  const textBlocks = _.map(\n    _.filter(_.split(_sentence, wildcard), (a) => !_.isEmpty(a)),\n    (block) => block\n  );\n\n  const sentenceWithBlanks: any[] = [];\n  startsWithBlank && sentenceWithBlanks.push(<Blank key={0} idx={0} />);\n\n  _.forEach(textBlocks, (textBlock, i) => {\n    const isLastTextBlock = i === textBlocks.length - 1;\n    sentenceWithBlanks.push(textBlock);\n    const key = startsWithBlank ? i + 1 : i;\n    if (!isLastTextBlock || (isLastTextBlock && endsWithBlank))\n      sentenceWithBlanks.push(<Blank key={key} idx={key} />);\n  });\n\n  return (\n    <p\n      className={[styles.Sentence, className].join(' ')}\n      style={style}\n      onClick={onClick}\n    >\n      {sentenceWithBlanks}\n    </p>\n  );\n}\n\nexport default memo(Sentence);\n","import React, { useEffect, useMemo } from 'react';\nimport { useForm } from 'react-hook-form';\n\nimport useLabel from '../../../../context/Label/useLabel';\nimport styles from './FillInTheBlanks.module.scss';\nimport Sentence from './Sentence';\n\ntype FillInTheBlanksProps = {\n  question: any;\n  tracking: any;\n  config: any;\n  onChange: (arg1: any, arg2: { value: string; questionId: string }) => void;\n};\n\nfunction FillInTheBlanks(props: FillInTheBlanksProps) {\n  const { question, tracking, config, onChange } = props;\n  const { showCorrectAnswer, showYourAnswers } = config;\n  const { answer, submitted } = tracking;\n  const { register, watch, getValues } = useForm({ defaultValues: answer });\n  const { plainLabel } = useLabel();\n  const typeHere = useMemo(() => plainLabel('type here'), [plainLabel]);\n\n  // this is HOW you detect changes using react-hook-form\n  useEffect(() => {\n    const subscription = watch((value, { name, type }) => {\n      onChange &&\n        onChange(undefined, {\n          value,\n          questionId: question.resourceId,\n        });\n    });\n    return () => subscription.unsubscribe();\n  }, [watch]); // eslint-disable-line\n\n  return (\n    <div className={styles.FillInTheBlanks}>\n      <Sentence\n        sentence={question?.sentence}\n        blanks={question?.blanks}\n        submitted={submitted}\n        showYourAnswers={showYourAnswers}\n        showCorrectAnswer={showCorrectAnswer}\n        getValues={getValues}\n        register={register}\n        placeholder={typeHere}\n      />\n    </div>\n  );\n}\n\nexport default FillInTheBlanks;\n","import React, { useEffect, useState } from 'react';\nimport { Draggable, DraggableStateSnapshot } from 'react-beautiful-dnd';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faGripVertical } from '@fortawesome/free-solid-svg-icons';\n\nimport styles from './DraggableItem.module.scss';\nimport { MountData } from './DroppableArea';\n\ntype DraggableItemProps = {\n  draggableId: string;\n  draggableText: string;\n  index: number;\n  cannotDrag?: boolean;\n  isDraggingOver?: boolean;\n  className?: string;\n  correct?: boolean;\n  incorrect?: boolean;\n  disabled?: boolean;\n  minHeight?: number;\n  onMount?: (data: MountData) => void;\n};\n\nfunction DraggableItem({\n  draggableId,\n  draggableText,\n  index,\n  cannotDrag,\n  isDraggingOver,\n  className = '',\n  correct,\n  incorrect,\n  disabled,\n  minHeight,\n  onMount,\n}: DraggableItemProps) {\n  const [mountData, setMountData] = useState<MountData>();\n\n  useEffect(() => {\n    if (mountData && onMount) onMount(mountData);\n  }, [mountData]); // eslint-disable-line\n\n  function handleRef(el: HTMLDivElement) {\n    if (mountData || !el?.clientHeight) return;\n    setMountData({ height: el?.clientHeight });\n  }\n\n  function getClassName(snapshot?: DraggableStateSnapshot): string {\n    return [\n      styles.item,\n      styles.itemWithArrow,\n      className,\n      snapshot?.isDragging ? styles.itemIsDragging : '',\n      isDraggingOver ? styles.itemIsDraggingOver : '',\n      correct ? styles.itemIsCorrect : '',\n      incorrect ? styles.itemIsIncorrect : '',\n    ].join(' ');\n  }\n\n  return (\n    // ATENTION: keep the key, otherwise the swap will not work\n    <div\n      className={styles.itemWrapper}\n      key={draggableId}\n      ref={handleRef}\n      style={{ minHeight }}\n    >\n      <Draggable\n        draggableId={draggableId}\n        index={index}\n        isDragDisabled={disabled}\n      >\n        {(provided, snapshot) => (\n          <div\n            ref={provided.innerRef}\n            {...provided.draggableProps}\n            {...provided.dragHandleProps}\n            className={getClassName(snapshot)}\n            style={{\n              ...provided.draggableProps.style,\n              // invisible, because needs to be rendered to avoid errors\n              display: cannotDrag ? 'none' : undefined,\n            }}\n          >\n            {!disabled && <FontAwesomeIcon icon={faGripVertical} />}\n            <div style={{ flex: 1, textAlign: 'center' }}>{draggableText}</div>\n          </div>\n        )}\n      </Draggable>\n      {/* visible element when cannot drag... is exactly the same above, without Draggable wrapper */}\n      {cannotDrag && <div className={getClassName()}>{draggableText}</div>}\n    </div>\n  );\n}\n\nexport default DraggableItem;\n","import React, { useEffect, useState } from 'react';\nimport { Droppable } from 'react-beautiful-dnd';\n\nimport styles from './DroppableArea.module.scss';\nimport DraggableItem from './DraggableItem';\nimport { Item } from './Matching';\n\ntype DroppableAreaProps = Item & {\n  correct?: boolean;\n  incorrect?: boolean;\n  disabled?: boolean;\n  minHeight?: number;\n  width?: number;\n  onMount?: (data: MountData) => void;\n};\n\nexport type MountData = {\n  height: number;\n};\n\nfunction DroppableArea({\n  droppableId,\n  droppableText,\n  draggableId,\n  draggableText,\n  type,\n  correct,\n  incorrect,\n  disabled,\n  minHeight,\n  width,\n  onMount,\n}: DroppableAreaProps) {\n  const [mountData, setMountData] = useState<MountData>();\n  const completed: boolean = !!droppableText && !!draggableText;\n\n  useEffect(() => {\n    if (mountData && onMount) onMount(mountData);\n  }, [mountData]); // eslint-disable-line\n\n  function handleRef(el: HTMLDivElement) {\n    if (mountData || !el?.clientHeight) return;\n    setMountData({ height: el?.clientHeight });\n  }\n\n  return (\n    <Droppable droppableId={droppableId} direction=\"horizontal\">\n      {(provided, snapshot) => (\n        <div\n          ref={provided.innerRef}\n          className={[\n            styles.dropzone,\n            styles[`dropzone_${type}`],\n            snapshot.isDraggingOver ? styles.dropzoneIsDragging : '',\n          ].join(' ')}\n          style={{\n            minHeight,\n            width: width\n              ? type === 'source'\n                ? `${width}px`\n                : `${width * 2}px`\n              : undefined,\n          }}\n        >\n          {draggableId && draggableText && (\n            <DraggableItem\n              draggableId={draggableId}\n              draggableText={draggableText}\n              index={0}\n              isDraggingOver={\n                snapshot.isDraggingOver &&\n                // to avoid the effect if is dragging over on itself\n                snapshot.draggingOverWith !== snapshot.draggingFromThisWith\n              }\n              className={styles.text}\n              correct={completed && !!correct}\n              incorrect={completed && !!incorrect}\n              disabled={disabled}\n              onMount={onMount}\n              minHeight={minHeight}\n            />\n          )}\n          {droppableText && (\n            <div\n              className={[\n                styles.droppableTextWrapper,\n                styles.droppableTextWrapperWithArrow,\n                draggableId && draggableText\n                  ? styles.droppableTextWrapperNoLeftBorder\n                  : '',\n                completed && correct ? styles.droppableTextWrapperCorrect : '',\n                completed && incorrect\n                  ? styles.droppableTextWrapperIncorrect\n                  : '',\n              ].join(' ')}\n              ref={handleRef}\n              style={{ minHeight }}\n            >\n              <div className={styles.text}>{droppableText}</div>\n            </div>\n          )}\n          <div style={{ display: 'none' }}>{provided.placeholder}</div>\n        </div>\n      )}\n    </Droppable>\n  );\n}\n\nexport default DroppableArea;\n","import React, { useEffect, useState } from 'react';\nimport {\n  DragDropContext,\n  DropResult,\n  ResponderProvided,\n} from 'react-beautiful-dnd';\nimport _ from 'lodash';\n\nimport styles from './Matching.module.scss';\nimport DroppableArea from './DroppableArea';\n\nexport type MatchingItem = {\n  resourceId: string;\n  draggable: string;\n  droppable: string;\n};\n\ntype MatchingProps = {\n  matchingItems: MatchingItem[];\n  matchingResponse?: object;\n  showFeedback?: boolean;\n  disabled?: boolean;\n  sameHeight?: boolean;\n  width?: number;\n  onChange?: ({ completed, response, score }: onChangePayload) => void;\n};\n\nexport type Item = {\n  draggableId?: string;\n  draggableText?: string;\n  droppableId: string;\n  droppableText?: string;\n  type: 'source' | 'destination';\n  order?: number;\n};\n\nexport type onChangePayload = {\n  response: object;\n  score: number;\n  completed: boolean;\n};\n\nfunction Matching({\n  matchingItems,\n  matchingResponse,\n  showFeedback,\n  disabled,\n  sameHeight,\n  width,\n  onChange,\n}: MatchingProps) {\n  const [items, setItems] = useState<Item[]>();\n  const [response, setResponse] = useState<any>();\n  const [changeDataPayload, setChangeDataPayload] = useState<onChangePayload>();\n  const [minHeight, setMinHeight] = useState<number>();\n  const [touched, setTouched] = useState<boolean>(false);\n\n  useEffect(() => {\n    const initialItems: Item[] = [];\n\n    const order: number[] = [];\n    for (let i = 0; i < _.size(matchingItems); i++) order.push(i);\n    const shuffle = _.shuffle(order);\n\n    _.forEach(\n      matchingItems,\n      ({ resourceId, draggable, droppable }, index: number) => {\n        initialItems.push({\n          draggableId: `draggable-${resourceId}`,\n          draggableText: draggable,\n          droppableId: `droppable-source-${resourceId}`,\n          droppableText: undefined,\n          type: 'source',\n          order: shuffle[index],\n        });\n        initialItems.push({\n          draggableId: undefined,\n          draggableText: undefined,\n          droppableId: `droppable-destination-${resourceId}`,\n          droppableText: droppable,\n          type: 'destination',\n        });\n      }\n    );\n    setItems(initialItems);\n  }, [matchingItems]);\n\n  useEffect(() => {\n    if (!_.isEmpty(matchingResponse) && _.isEmpty(response))\n      setResponse(matchingResponse);\n\n    // check completed and calculate score\n    if (!_.isEmpty(response)) {\n      let completed = true;\n      const maxResponses = matchingItems.length;\n      let correctResponses = 0;\n      _.forEach(_.keys(response), (key: string) => {\n        if (_.includes(key, 'destination')) {\n          if (response[key] === undefined) {\n            completed = false;\n          } else {\n            if (checkResponse(key, response[key])) correctResponses++;\n          }\n        }\n      });\n\n      const updatedChangeDataPayload = {\n        completed,\n        response,\n        score: correctResponses / maxResponses,\n      };\n\n      setChangeDataPayload((prevState) => {\n        // if object is the same, do not set state (to avoid trigger useEffect on changeDataPayload)\n        if (_.isEqual(prevState, updatedChangeDataPayload)) return;\n        return updatedChangeDataPayload;\n      });\n    }\n  }, [matchingResponse, response, matchingItems]); // eslint-disable-line\n\n  useEffect(() => {\n    onChange && changeDataPayload && onChange(changeDataPayload);\n  }, [changeDataPayload]); // eslint-disable-line\n\n  function checkResponse(droppableId: string, draggableId: string) {\n    // first, will match ids:\n    const onlyIdFromDroppableId = _.replace(\n      droppableId,\n      'droppable-destination-',\n      ''\n    );\n    const onlyIdFromDraggableId = _.replace(draggableId, 'draggable-', '');\n    const matchIds = onlyIdFromDroppableId === onlyIdFromDraggableId;\n\n    // then, will try to match with expected text\n    // for instance: two droppables as \"hero\" (same text)\n    const textThatMatchesWithThisDraggagle = _.find(\n      items,\n      (i) => i.droppableId === `droppable-destination-${onlyIdFromDraggableId}`\n    )?.droppableText;\n    const droppableText = _.find(\n      items,\n      (i) => i.droppableId === droppableId\n    )?.droppableText;\n    const matchTexts = textThatMatchesWithThisDraggagle === droppableText;\n\n    // it will accept as correct one or other\n    return matchIds || matchTexts;\n  }\n\n  function handleOnDragEnd(result: DropResult, provided: ResponderProvided) {\n    // console.log(\n    //   `${result.draggableId} from ${result.source.droppableId} to ${result.destination?.droppableId}`\n    // );\n\n    if (!result.destination?.droppableId) {\n      console.warn('destination is undefined');\n      return;\n    }\n    if (result.source.droppableId === result.destination?.droppableId) {\n      console.warn('source and destination are the same');\n      return;\n    }\n\n    let updatedResponse = _.cloneDeep(response);\n\n    // init response (if undefined)\n    if (!updatedResponse) {\n      _.forEach(items, (item) => {\n        updatedResponse = {\n          ...updatedResponse,\n          [item.droppableId]: item.draggableId,\n        };\n      });\n    }\n\n    // swap\n    const prevUpdatedResponse = _.cloneDeep(updatedResponse);\n    updatedResponse[result.destination.droppableId] = result.draggableId;\n    updatedResponse[result.source.droppableId] =\n      prevUpdatedResponse[result.destination.droppableId];\n\n    setResponse(updatedResponse);\n  }\n\n  function renderDroppables(type: 'source' | 'destination') {\n    const ordered = _.orderBy(items, 'order');\n\n    const merged = _.map(ordered, (item) => {\n      if (!response) return item;\n      const responseDraggableId = response[item.droppableId];\n      return {\n        ...item,\n        draggableId: responseDraggableId,\n        draggableText: responseDraggableId\n          ? _.find(items, (item) => item.draggableId === responseDraggableId)\n              ?.draggableText\n          : undefined,\n      };\n    });\n\n    const filtered = _.filter(merged, (item) => item.type === type);\n\n    return _.map(filtered, (item) => {\n      const isResponseCorrect = checkResponse(\n        item.droppableId,\n        item.draggableId\n      );\n      return (\n        <DroppableArea\n          key={item.droppableId}\n          correct={showFeedback && isResponseCorrect}\n          incorrect={showFeedback && !isResponseCorrect}\n          disabled={disabled}\n          onMount={(data) => {\n            if (!sameHeight) return;\n            if (touched) return;\n            setMinHeight((prevMinHeight = 0) =>\n              data.height > prevMinHeight ? data.height : prevMinHeight\n            );\n          }}\n          minHeight={minHeight}\n          width={width}\n          {...item}\n        />\n      );\n    });\n  }\n\n  return (\n    <DragDropContext\n      onDragEnd={handleOnDragEnd}\n      onDragStart={() => setTouched(true)}\n    >\n      <main>\n        <section className={styles.left}>{renderDroppables('source')}</section>\n        <section className={styles.right}>\n          {renderDroppables('destination')}\n        </section>\n      </main>\n    </DragDropContext>\n  );\n}\n\nexport default Matching;\n","import React from 'react';\n\nimport Matching, { onChangePayload } from './Matching';\n\ntype MatchingWrapperProps = {\n  question: any;\n  tracking: any;\n  config: any;\n  onChange: Function;\n};\n\nfunction MatchingWrapper(props: MatchingWrapperProps) {\n  const { question, tracking, config, onChange } = props;\n  const { showCorrectAnswer, showYourAnswers } = config;\n  const { answer, submitted } = tracking;\n\n  function handleOnChange(payload: onChangePayload) {\n    onChange &&\n      onChange(undefined, {\n        value: payload.completed ? payload : undefined, // to avoid submit when incomplete\n        questionId: question.resourceId,\n      });\n  }\n\n  return (\n    <div style={{ marginTop: '10px' }}>\n      <Matching\n        matchingItems={question?.matchingItems}\n        matchingResponse={submitted ? answer?.response : undefined}\n        sameHeight\n        width={200}\n        onChange={handleOnChange}\n        showFeedback={submitted && (showCorrectAnswer || showYourAnswers)}\n        disabled={submitted}\n      />\n    </div>\n  );\n}\n\nexport default MatchingWrapper;\n","import React, { useEffect, useMemo } from 'react';\nimport _ from 'lodash';\nimport { useContextSelector } from 'use-context-selector';\n\nimport styles from './Question.module.scss';\nimport Feedback from '../../../UI/Feedback/Feedback';\nimport Label from '../../../context/Label/Label';\nimport MultipleChoice from './MultipleChoice/MultipleChoice';\nimport Essay from './Essay/Essay';\nimport FillInTheBlanks from './FillInTheBlanks/FillInTheBlanks';\nimport MatchingWrapper from './Matching/MatchingWrapper';\nimport { UIContext } from '../../../context/UI/UIContext';\n\nfunction Question({\n  question = {},\n  tracking,\n  config = {},\n  onChange,\n  cur,\n  max,\n  globalState,\n  className,\n}) {\n  const { course } = globalState;\n  const { primary } = globalState.getColorScheme();\n  const { answeredCorrectly, submitted } = tracking;\n  const setBackground = useContextSelector(UIContext, (c) => c.setBackground);\n  const clearBackground = useContextSelector(\n    UIContext,\n    (c) => c.clearBackground\n  );\n\n  useEffect(() => {\n    const hasQuizBackground = !_.isEmpty(config?.background);\n\n    // first, check for question background\n    if (!_.isEmpty(question.background) && !config?.showAllQuestionsInPage) {\n      setBackground(question.background);\n    } else {\n      // then, check for quiz background (to restore it)\n      hasQuizBackground && setBackground(config.background);\n    }\n\n    return () => {\n      if (!hasQuizBackground) {\n        clearBackground();\n      }\n    };\n  }, [question.background, config.background, config.showAllQuestionsInPage]); // eslint-disable-line\n\n  const _className = [styles.Question];\n  className && _className.push(className);\n\n  const renderedQuestionType = useMemo(() => {\n    switch (question.resourceType) {\n      case 'essay':\n        return (\n          <Essay\n            question={question}\n            tracking={tracking}\n            config={config}\n            onChange={onChange}\n          />\n        );\n      case 'fillInTheBlank':\n        return (\n          <FillInTheBlanks\n            question={question}\n            tracking={tracking}\n            config={config}\n            onChange={onChange}\n          />\n        );\n      case 'matching':\n        return (\n          <MatchingWrapper\n            question={question}\n            tracking={tracking}\n            config={config}\n            onChange={onChange}\n          />\n        );\n      case 'question':\n      case 'multipleChoice':\n        return (\n          <MultipleChoice\n            question={question}\n            tracking={tracking}\n            config={config}\n            onChange={onChange}\n          />\n        );\n      default:\n        return null;\n    }\n  }, [config, tracking, question, onChange]);\n\n  return (\n    <div className={_className.join(' ')}>\n      <div className={styles.Question__counter}>\n        <span style={{ color: primary }}>\n          <Label>question</Label> {cur}/{max}\n        </span>\n      </div>\n      {question?.textImage?.image?.name && course?.baseURL && (\n        <div\n          className={styles.Question__image}\n          style={{\n            backgroundImage: `url('${course?.baseURL}/${question?.textImage?.image?.name}')`,\n            ...question?.textImage?.style,\n          }}\n        />\n      )}\n      <div className={styles.Question__question}>{question.text}</div>\n      {renderedQuestionType}\n      {!!submitted &&\n        ((!_.isEmpty(question?.feedback?.whenCorrect) &&\n          answeredCorrectly === true) ||\n          (!_.isEmpty(question?.feedback?.whenIncorrect) &&\n            answeredCorrectly === false)) && (\n          <Feedback\n            incorrect={answeredCorrectly === false}\n            correct={answeredCorrectly === true}\n            className={styles.Question__feedback}\n          >\n            {answeredCorrectly\n              ? question?.feedback?.whenCorrect\n              : question?.feedback?.whenIncorrect}\n          </Feedback>\n        )}\n    </div>\n  );\n}\n\nexport default Question;\n","export const isViewportMobile = () => {\n  return getWindowPosition().width < 576;\n};\n\nexport const getWindowPosition = () => {\n  const w = window,\n    d = document,\n    documentElement = d.documentElement,\n    body = d.getElementsByTagName('body')[0],\n    _width = w.innerWidth || documentElement.clientWidth || body.clientWidth,\n    _height =\n      w.innerHeight || documentElement.clientHeight || body.clientHeight,\n    _scrollTop = w.scrollTop || documentElement.scrollTop || body.scrollTop,\n    _scrollLeft = w.scrollLeft || documentElement.scrollLeft || body.scrollLeft,\n    _scrollWidth =\n      w.scrollWidth || documentElement.scrollWidth || body.scrollWidth,\n    _scrollHeight =\n      w.scrollHeight || documentElement.scrollHeight || body.scrollHeight;\n\n  return {\n    width: _width,\n    height: _height,\n    scrollTop: _scrollTop,\n    scrollLeft: _scrollLeft,\n    scrollWidth: _scrollWidth,\n    scrollHeight: _scrollHeight,\n  };\n};\n\nexport const encodeIt = (_json) => {\n  const encoded = JSON.stringify(_json);\n  return encodeURIComponent(encoded);\n};\n\nexport const isRunningInProd = () => process.env.NODE_ENV === 'production';\n\n// remove undefined from entire object\nexport const cleanedObject = (obj) => {\n  function isReferenceField(obj) {\n    return !!obj && !!obj.firestore;\n  }\n  Object.keys(obj).forEach((key) => {\n    if (isReferenceField(obj[key])) {\n      delete obj[key];\n    } else if (obj[key] && typeof obj[key] === 'object') {\n      cleanedObject(obj[key]);\n    } else if (obj[key] === undefined) {\n      delete obj[key];\n    }\n  });\n  return obj;\n  // _.pickBy(obj, (v) => v !== undefined);\n};\n\nexport const scrollIntoViewSmooth = (el) => {\n  if (!el?.scrollIntoView) return;\n  setTimeout(() => {\n    try {\n      el.scrollIntoView({ behavior: 'smooth' });\n    } catch (err) {\n      console.warn('[scrollIntoViewSmooth] error');\n      console.error(err);\n    }\n  }, 200);\n};\n","import React, { ReactNode } from 'react';\n\nimport styles from './Badge.module.scss';\n\ntype BadgeProps = {\n  children: ReactNode;\n  success?: boolean;\n  warning?: boolean;\n  danger?: boolean;\n  cancel?: boolean;\n  purple?: boolean;\n  className?: string;\n  onClick?: Function;\n  darken?: boolean;\n};\n\nfunction Badge({\n  children,\n  success,\n  warning,\n  danger,\n  cancel,\n  purple,\n  className = '',\n  onClick,\n  darken,\n}: BadgeProps) {\n  const _className = [styles.Badge];\n  className && _className.push(className);\n  success && _className.push(styles.success);\n  warning && _className.push(styles.warning);\n  danger && _className.push(styles.danger);\n  cancel && _className.push(styles.cancel);\n  purple && _className.push(styles.purple);\n  darken && _className.push(styles.darken);\n  onClick && _className.push(styles.clickable);\n\n  function handleClick() {\n    onClick && onClick();\n  }\n\n  return (\n    <span className={_className.join(' ')} onClick={handleClick}>\n      {children}\n    </span>\n  );\n}\n\nexport default Badge;\n","// useReducer with Typescript:\n// https://github.com/hswolff/youtube/blob/master/videos/why-i-love-usereducer/src/LoginUseReducerTypeScript.tsx\n\nimport React, { useReducer, ReactNode } from 'react';\nimport { createContext } from 'use-context-selector';\nimport _ from 'lodash';\n\nconst initialState: ITooltipState = {\n  visibleTooltips: '',\n  showTooltip: () => {},\n  hideTooltip: () => {},\n  hideAllTooltips: () => {},\n};\n\ntype ITooltipState = {\n  visibleTooltips: string;\n  showTooltip: (tolltipId: string) => void;\n  hideTooltip: (tolltipId: string) => void;\n  hideAllTooltips: () => void;\n};\n\ntype ITooltipAction =\n  | { type: 'SHOW_TOOLTIP'; payload: string }\n  | { type: 'HIDE_TOOLTIP'; payload: string }\n  | { type: 'HIDE_ALL_TOOLTIPS' };\n\nfunction tooltipReducer(\n  state: ITooltipState,\n  action: ITooltipAction\n): ITooltipState {\n  switch (action.type) {\n    case 'SHOW_TOOLTIP':\n      return {\n        ...state,\n        visibleTooltips: [\n          ...state.visibleTooltips.split(','),\n          action.payload,\n        ].join(','),\n      };\n    case 'HIDE_TOOLTIP':\n      const updatedVisibleTooltips = state.visibleTooltips.split(',');\n      return {\n        ...state,\n        visibleTooltips: _.filter(\n          updatedVisibleTooltips,\n          (t) => t !== action.payload\n        ).join(','),\n      };\n    case 'HIDE_ALL_TOOLTIPS':\n      return {\n        ...state,\n        visibleTooltips: '',\n      };\n    default:\n      return state;\n  }\n}\n\nexport const TooltipContext = createContext(initialState as ITooltipState);\n\nexport default function TooltipProvider(props: { children: ReactNode }) {\n  const [state, dispatch] = useReducer(tooltipReducer, initialState);\n\n  // Actions\n  // reminder: always dispatch; otherwise, is a SELECTOR, not an ACTION\n  function showTooltip(tooltipId: string) {\n    dispatch({\n      type: 'SHOW_TOOLTIP',\n      payload: tooltipId,\n    });\n  }\n\n  function hideTooltip(tooltipId: string) {\n    dispatch({\n      type: 'HIDE_TOOLTIP',\n      payload: tooltipId,\n    });\n  }\n\n  function hideAllTooltips() {\n    dispatch({\n      type: 'HIDE_ALL_TOOLTIPS',\n    });\n  }\n\n  return (\n    <TooltipContext.Provider\n      value={{\n        ...state,\n        showTooltip,\n        hideTooltip,\n        hideAllTooltips,\n      }}\n    >\n      {props.children}\n    </TooltipContext.Provider>\n  );\n}\n","import React, { ReactNode, useEffect, useRef } from 'react';\nimport ReactTooltip from 'react-tooltip';\nimport { useContextSelector } from 'use-context-selector';\n\nimport styles from './Tooltip.module.scss';\nimport { TooltipContext } from './TooltipContext';\nimport { isTooltipVisible } from './TooltipSelector';\n\ntype TooltipProps = {\n  children: ReactNode;\n  tooltip: string;\n  top?: boolean;\n  right?: boolean;\n  left?: boolean;\n  bottom?: boolean;\n  id?: string;\n  trigger?: 'manual';\n  className?: string;\n  blink?: boolean;\n};\n\nfunction Tooltip(props: TooltipProps) {\n  const {\n    children,\n    tooltip,\n    right,\n    left,\n    bottom,\n    id,\n    trigger,\n    className = '',\n    blink,\n  } = props;\n  const _className = [styles.Tooltip];\n  const tooltipRef = useRef<HTMLSpanElement>(null);\n  const visibleTooltips = useContextSelector(\n    TooltipContext,\n    (c) => c.visibleTooltips\n  );\n\n  const place = right ? 'right' : left ? 'left' : bottom ? 'bottom' : 'top';\n\n  useEffect(() => {\n    function detectVisibilityChanges() {\n      if (trigger !== 'manual' || !id || !tooltipRef.current) return;\n\n      if (isTooltipVisible(id, visibleTooltips)) {\n        ReactTooltip.show(tooltipRef.current);\n      } else {\n        ReactTooltip.hide();\n      }\n    }\n\n    detectVisibilityChanges();\n  }, [id, trigger, visibleTooltips]);\n\n  const tooltipHtml = blink\n    ? `<div class=\"${styles.tooltipHtmlWrapper}\"><div></div><span>${tooltip}</span></div>`\n    : tooltip;\n\n  return (\n    <div className={_className.join(' ')}>\n      <span data-for={id} data-tip={tooltipHtml} ref={tooltipRef}>\n        {children}\n      </span>\n      <ReactTooltip\n        id={id}\n        getContent={!!id ? () => tooltipHtml : undefined}\n        place={place}\n        effect=\"solid\"\n        className={[\n          styles.ReactTooltip,\n          blink ? styles.ReactTooltip__html : '',\n          className,\n        ].join(' ')}\n        multiline={true}\n        event={trigger === 'manual' ? 'none' : undefined}\n        // type=\"light\"\n        html={true}\n      />\n    </div>\n  );\n}\n\nexport default Tooltip;\n","import _ from 'lodash';\n\nexport const isTooltipVisible = (\n  tooltipId: string,\n  visibleTooltips: string\n) => {\n  return !!_.find(visibleTooltips.split(','), (t) => t === tooltipId);\n};\n","import React from 'react';\n\nimport styles from './Help.module.scss';\nimport Icon from '../Icon/Icon';\nimport Tooltip from '../Tooltip/Tooltip';\n\nfunction Help({ tooltip }) {\n  return (\n    <Tooltip tooltip={tooltip} top>\n      <Icon icon=\"question-circle\" className={styles.icon} />\n    </Tooltip>\n  );\n}\n\nexport default Help;\n","import React from 'react';\nimport { ReactNode } from 'react';\n\nimport styles from './Alert.module.scss';\n\ntype AlertProps = {\n  children?: ReactNode;\n  success?: boolean;\n  warning?: boolean;\n  danger?: boolean;\n  purple?: boolean;\n  className?: string;\n};\n\nfunction Alert({\n  success,\n  warning,\n  danger,\n  children,\n  className,\n  purple,\n}: AlertProps) {\n  const _className = [styles.Alert];\n  success && _className.push(styles.Alert__success);\n  warning && _className.push(styles.Alert__warning);\n  danger && _className.push(styles.Alert__danger);\n  purple && _className.push(styles.Alert__purple);\n  !success &&\n    !warning &&\n    !danger &&\n    !purple &&\n    _className.push(styles.Alert__primary);\n  className && _className.push(className);\n\n  return <div className={_className.join(' ')}>{children}</div>;\n}\n\nexport default Alert;\n","import _ from 'lodash';\n\ntype GetOveralScoreResponse = {\n  score: number;\n  passingScore: number;\n  passed: boolean;\n  completed: boolean;\n  scoreByQuiz: GetScoresResponse[];\n};\n\nexport const getOverallScore = (\n  course: any,\n  tracking: any\n): GetOveralScoreResponse => {\n  let scoreSum = 0;\n  let passingScoreSum = 0;\n  let completedAll = true;\n\n  const scores = getScores(course, tracking);\n\n  _.forEach(scores, (s) => {\n    scoreSum += +s.score;\n    passingScoreSum += +s.passingScore;\n    completedAll = s.completed && completedAll;\n  });\n\n  const score = Math.round(scoreSum / scores.length);\n  const passingScore = Math.round(passingScoreSum / scores.length);\n\n  return {\n    score,\n    passingScore,\n    passed: score >= passingScore,\n    completed: completedAll,\n    scoreByQuiz: scores,\n  };\n};\n\ntype GetScoresResponse = {\n  resourceId: string;\n  title: string;\n  score: number;\n  passingScore: number;\n  completed: boolean;\n};\n\nconst getScores = (course: any, tracking: any): GetScoresResponse[] => {\n  // 1. filter all quizzes from this course\n  const quizzes = _.filter(course?.pages, (p) => p?.resourceType === 'quiz');\n\n  // 2. is there any quiz with computeOverallScore setted?\n  const hasAnyQuizWithOverallConfig = !!_.find(\n    quizzes,\n    (q) => q?.quiz?.config?.computeOverallScore === true\n  );\n\n  // 3. filter quizzes with computeOverallScore OR the last quiz\n  const quizzesToConsider = hasAnyQuizWithOverallConfig\n    ? _.filter(quizzes, (q) => q?.quiz?.config?.computeOverallScore === true)\n    : [quizzes[quizzes.length - 1]];\n\n  // 4. return the data\n  const _scores = _.map(quizzesToConsider, (quiz) => {\n    const quizTracking = _.get(tracking, quiz?.resourceId);\n\n    return {\n      resourceId: quiz?.resourceId,\n      title: quiz?.title,\n      score: quizTracking?.result?.score || 0,\n      passingScore: quiz?.quiz?.config?.passingScore || 0,\n      completed: quizTracking?.completed,\n    };\n  });\n\n  return _scores;\n};\n","import React, { useEffect, useMemo, useState } from 'react';\nimport _ from 'lodash';\n\nimport styles from './QuizResultOverall.module.scss';\nimport Badge from '../../UI/Badge/Badge';\nimport Icon from '../../UI/Icon/Icon';\nimport Tooltip from '../../UI/Tooltip/Tooltip';\nimport Help from '../../UI/Help/Help';\nimport { useContextSelector } from 'use-context-selector';\nimport { UIContext } from '../../context/UI/UIContext';\nimport Alert from '../../UI/Alert/Alert';\nimport Label from '../../context/Label/Label';\nimport useLabel from '../../context/Label/useLabel';\nimport { getOverallScore } from '../../selectors/overalScoreSelector';\n\nfunction QuizResultOverall({\n  resourceId,\n  globalState,\n}: {\n  resourceId: string;\n  globalState: any;\n}) {\n  const { course, tracking, setCourseScore, onPageCompleted } = globalState;\n  const startBlinkNext = useContextSelector(UIContext, (c) => c.startBlinkNext);\n  const { plainLabel } = useLabel();\n  const [expanded, setExpanded] = useState<boolean>(false);\n\n  const overallScore = useMemo(\n    () => getOverallScore(course, tracking),\n    [course, tracking]\n  );\n\n  const isThisQuizInOverallScore = !!_.find(\n    overallScore.scoreByQuiz,\n    (s) => !!resourceId && s.resourceId === resourceId\n  );\n\n  useEffect(() => {\n    // mark page as completed\n    onPageCompleted(() => startBlinkNext());\n  }, []); // eslint-disable-line\n\n  useEffect(() => {\n    // valid only is all quizzes (could be only one) are/is completed\n    if (!overallScore.completed) return;\n\n    // set course score\n    setCourseScore(+overallScore.score);\n  }, [overallScore.completed]); // eslint-disable-line\n\n  if (!isThisQuizInOverallScore) {\n    return (\n      <div className={styles.root} data-testid=\"QuizResultOverall\">\n        <Alert className={styles.alert}>\n          <Label>\n            This score will not be computed in your final overall score\n          </Label>\n        </Alert>\n      </div>\n    );\n  }\n\n  // if only one quiz is available to be graded, does not show this component on screen\n  if (_.size(overallScore.scoreByQuiz) <= 1) return null;\n\n  return (\n    <div className={styles.root} data-testid=\"QuizResultOverall\">\n      <span className={styles.title}>\n        <Label>Overall score</Label>{' '}\n        <Help\n          tooltip={plainLabel(\n            'It will be reported as your final score when you complete all graded quiz on this course.'\n          )}\n        />\n      </span>\n      <div className={styles.detail}>\n        <Tooltip\n          tooltip={\n            overallScore.completed\n              ? plainLabel(\n                  'Based on all graded quizzes answered on this course.'\n                )\n              : plainLabel(\n                  'Complete all graded quizzes on this course for the final overall score.'\n                )\n          }\n          id={`overall`}\n        >\n          <Badge\n            success={\n              overallScore.completed &&\n              overallScore.score >= overallScore.passingScore\n            }\n            danger={\n              overallScore.completed &&\n              overallScore.score < overallScore.passingScore\n            }\n            cancel={!overallScore.completed}\n            className={[styles.badge, styles.badgeMain].join(' ')}\n            onClick={() => setExpanded(!expanded)}\n          >\n            {overallScore.score}%\n          </Badge>\n        </Tooltip>\n        <Icon\n          icon={expanded ? 'chevron-left' : 'chevron-right'}\n          onClick={() => setExpanded(!expanded)}\n          className={styles.iconToggleExpand}\n        />\n        <div className={!expanded ? styles.hidden : ''}>\n          {_.map(\n            overallScore.scoreByQuiz,\n            ({ title, score, passingScore, completed }, i) => (\n              <Tooltip\n                tooltip={`${title}</br>(${plainLabel(\n                  'Passing score'\n                )}: ${passingScore}%)`}\n                bottom\n                key={i}\n                id={`quiz-${i}`}\n              >\n                <Badge\n                  success={completed && score >= passingScore}\n                  danger={completed && score < passingScore}\n                  cancel={!completed}\n                  className={styles.badge}\n                >\n                  {completed ? `${score}%` : '-'}\n                </Badge>\n              </Tooltip>\n            )\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default QuizResultOverall;\n","import React from 'react';\n\nimport styles from './QuizResult.module.scss';\nimport Label from '../../context/Label/Label';\nimport Icon from '../../UI/Icon/Icon';\nimport QuizResultOverall from './QuizResultOverall';\n\ntype QuizResultProps = {\n  result: {\n    score: number;\n    totalAnsweredCorrectly: number;\n    totalAnswered: number;\n  };\n  passingScore: number;\n  hasPassed: boolean;\n  globalState: any;\n  cannotProgressWhenFailed: boolean;\n  resourceId: string;\n};\n\nfunction QuizResult({\n  result,\n  hasPassed,\n  passingScore,\n  cannotProgressWhenFailed,\n  globalState,\n  resourceId,\n}: QuizResultProps) {\n  return (\n    <div className={styles.Quiz__result}>\n      <h2>\n        <Label>Results</Label>\n      </h2>\n      <div className={styles.Quiz__result__detail}>\n        <span>\n          <Label>Score</Label>\n        </span>\n        <span data-testid=\"quiz-score\">{result?.score}%</span>\n        <span>\n          {result?.totalAnsweredCorrectly} <Label>of</Label>{' '}\n          {result?.totalAnswered} <Label>correct</Label>\n        </span>\n        {passingScore && (\n          <div\n            className={[\n              styles.Quiz__result__passingScore,\n              hasPassed\n                ? styles.Quiz__result__passingScore__passed\n                : styles.Quiz__result__passingScore__failed,\n            ].join(' ')}\n          >\n            <span>\n              <Label>Passing score</Label>: {passingScore}%\n            </span>\n            <Icon\n              icon={hasPassed ? 'check-circle' : 'times-circle'}\n              className={styles.Quiz__result__passingScore__icon}\n            />\n          </div>\n        )}\n        {!(cannotProgressWhenFailed && !hasPassed) && (\n          <QuizResultOverall\n            resourceId={resourceId}\n            globalState={globalState}\n          />\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default QuizResult;\n","import React, { useState, useEffect, useMemo } from 'react';\nimport _ from 'lodash';\nimport { useContextSelector } from 'use-context-selector';\n\nimport styles from './Quiz.module.scss';\nimport ContainerPage from '../../UI/ContainerPage/ContainerPage';\nimport Button from '../../UI/Button/Button';\nimport Question from './Question/Question';\nimport Label from '../../context/Label/Label';\nimport { UIContext } from '../../context/UI/UIContext';\nimport { scrollIntoViewSmooth } from '../../utils/utils';\nimport QuizResult from './QuizResult';\n\nfunction Quiz({ title, quiz = {}, globalState }) {\n  const { questions = [], config = {} } = quiz;\n  const [curQuestion, setCurQuestion] = useState(1);\n  const [reviewMode, setReviewMode] = useState(false);\n  const maxQuestion = questions.length;\n  const [order, setOrder] = useState(\n    initOrder(maxQuestion, config.randomizeQuestions)\n  );\n  const showAllQuestionsInPage = config.showAllQuestionsInPage === true;\n  const allowRetryWhenFailed = config.allowRetryWhenFailed === true;\n  const cannotProgressWhenFailed = config.cannotProgressWhenFailed === true;\n  const { passingScore } = config;\n\n  const {\n    getTracking,\n    patchTracking,\n    clearTracking,\n    onPageStarted,\n    getCurrentPage,\n    player,\n  } = globalState;\n  const currentPage = getCurrentPage();\n  const pageTracking = getTracking(currentPage.resourceId);\n  const [quizFinished, setQuizFinished] = useState(false);\n  const quizStarted = pageTracking?.started;\n  const result = pageTracking?.result || {};\n  const setBackground = useContextSelector(UIContext, (c) => c.setBackground);\n  const clearBackground = useContextSelector(\n    UIContext,\n    (c) => c.clearBackground\n  );\n\n  function initOrder(max, randomize) {\n    const inOrder = _.map(new Array(max), (a, i) => i);\n    const newOrder = randomize ? _.shuffle(inOrder) : inOrder;\n    return newOrder;\n  }\n\n  useEffect(() => {\n    function onQuestionChange() {\n      if (player?.editMode && quizFinished) {\n        console.warn('[onQuestionChange]: editMode activated = reset tracking');\n        handleRetry();\n      }\n    }\n    onQuestionChange();\n  }, [questions]); // eslint-disable-line\n\n  useEffect(() => {\n    function onQuestionAddOrRemove() {\n      if (player?.editMode) {\n        console.warn(\n          '[onQuestionAddOrRemove] editMode activated = reset order and tracking'\n        );\n        // order need to be init, once the number of question has changed\n        const newOrder = initOrder(maxQuestion, config.randomizeQuestions);\n        setOrder(newOrder);\n        handleRetry();\n      }\n    }\n    onQuestionAddOrRemove();\n  }, [maxQuestion]); // eslint-disable-line\n\n  useEffect(() => {\n    if (!_.isEmpty(config?.background)) {\n      setBackground(config?.background);\n    }\n\n    return () => {\n      clearBackground();\n    };\n  }, [config.background]); // eslint-disable-line\n\n  useEffect(() => {\n    quizFinished && calculateQuizResult();\n  }, [quizFinished]); // eslint-disable-line\n\n  const hasPassed = useMemo(() => {\n    // if passingScore not set, always return true\n    return !isNaN(passingScore) ? +result.score >= +passingScore : true;\n  }, [passingScore, result.score]);\n\n  const anyChoiceTouched = useMemo(() => {\n    let touched = false;\n    _.forEach(questions, ({ resourceId }) => {\n      if (!_.isEmpty(getTracking(resourceId))) touched = true;\n    });\n    return touched;\n  }, [getTracking, questions]);\n\n  function handleChange(e, data) {\n    const { value, type, questionId, checked } = data;\n    let { answer } = getTracking(questionId);\n    if (type === 'checkbox') {\n      if (!Array.isArray(answer)) answer = [];\n      if (!_.includes(answer, value) && checked) {\n        answer = [...answer, value];\n      } else {\n        answer = _.filter(answer, (a) => a !== value);\n      }\n    } else {\n      answer = value;\n    }\n\n    // to avoid patch with undefined value\n    answer ? patchTracking(questionId, { answer }) : clearTracking(questionId);\n  }\n\n  function handleSubmitAnswer() {\n    const _questions = getAllQuestionsInPage();\n    _.forEach(\n      _questions,\n      ({\n        resourceId,\n        resourceType,\n        choices,\n        acceptableResponses,\n        exactResponse,\n        blanks,\n      }) => {\n        const { answer } = getTracking(resourceId);\n\n        let answeredCorrectly = false;\n\n        switch (resourceType) {\n          case 'question':\n          case 'multipleChoice':\n            const userAnswer = Array.isArray(answer) ? answer : [answer];\n            const correctAnswer = choices\n              .filter((c) => c.correct)\n              .map((c) => c.resourceId);\n            answeredCorrectly = _.isEqual(\n              _.sortBy(userAnswer).toString(),\n              _.sortBy(correctAnswer).toString()\n            );\n            break;\n\n          case 'essay':\n            const responseMatched = [];\n            _.forEach(acceptableResponses, ({ text }) => {\n              responseMatched.push(\n                _.includes(_.lowerCase(answer), _.lowerCase(text))\n              );\n            });\n\n            answeredCorrectly = exactResponse\n              ? _.size(_.filter(responseMatched, (r) => r === true)) ===\n                _.size(responseMatched)\n              : _.find(responseMatched, (r) => r === true);\n\n            break;\n\n          case 'fillInTheBlank':\n            let allBlanksAnsweredCorrectly = true;\n            _.forEach(blanks, (blank, i) => {\n              // warning: DO NOT use _.lowerCase (was crashing when using caps in mid string: ex: SuPeRHeRo)\n              if (\n                blank?.text.toLowerCase() !==\n                _.get(answer, blank?.id).toLowerCase()\n              )\n                allBlanksAnsweredCorrectly = false;\n            });\n            answeredCorrectly = allBlanksAnsweredCorrectly;\n            break;\n\n          case 'matching':\n            answeredCorrectly = answer?.score === 1;\n            break;\n\n          default:\n            break;\n        }\n\n        patchTracking(resourceId, {\n          submitted: true, // mark question(s) as submitted\n          answeredCorrectly,\n        });\n      }\n    );\n\n    // automatically go next question (or result) if does not have feedback\n    const hasFeedback = config?.showYourAnswers || questionHasFeedback();\n    if (!hasFeedback) handleNextQuestion();\n  }\n\n  function questionHasFeedback() {\n    const _questions = getAllQuestionsInPage();\n    return !!_questions.find((q) => {\n      return (\n        !_.isEmpty(q?.feedback?.whenCorrect) ||\n        !_.isEmpty(!q?.feedback?.whenIncorrect)\n      );\n    });\n  }\n\n  function handleNextQuestion() {\n    if (!showAllQuestionsInPage && curQuestion < maxQuestion) {\n      setCurQuestion(curQuestion + 1);\n    } else if (!quizFinished) {\n      setQuizFinished(true);\n    } else if (reviewMode) {\n      setReviewMode(false);\n    }\n  }\n\n  function getAllQuestionsInPage() {\n    const question = questions[order[curQuestion - 1]] || {};\n    const _questions = config.randomizeQuestions\n      ? _.map(order, (o) => questions[o])\n      : questions;\n    return showAllQuestionsInPage ? _questions : [question];\n  }\n\n  function renderQuestions() {\n    if ((quizFinished && !reviewMode) || !quizStarted) return;\n    const _questions = getAllQuestionsInPage();\n    return _.map(_questions, (q, i) => {\n      const resourceId = q?.resourceId;\n      const tracking = getTracking(resourceId);\n      return !_.isEmpty(q) ? (\n        <Question\n          key={resourceId}\n          question={q}\n          tracking={tracking}\n          config={config}\n          onChange={handleChange}\n          cur={showAllQuestionsInPage ? i + 1 : curQuestion}\n          max={maxQuestion}\n          globalState={globalState}\n          className={styles.Quiz__question__component}\n        />\n      ) : null;\n    });\n  }\n\n  function canSubmit() {\n    let allQuestionsAnswered = true;\n\n    const _questions = getAllQuestionsInPage();\n    _.forEach(_questions, (q) => {\n      if (_.isEmpty(getTracking(q?.resourceId)?.answer))\n        allQuestionsAnswered = false;\n    });\n\n    return allQuestionsAnswered;\n  }\n\n  function canGoNextQuestion() {\n    const _questions = getAllQuestionsInPage();\n    let isQuestionsSubmitted = _.isEmpty(_questions) ? false : true;\n    _.forEach(_questions, (q) => {\n      if (!getTracking(q?.resourceId)?.submitted) isQuestionsSubmitted = false;\n    });\n    return isQuestionsSubmitted;\n  }\n\n  function handleReview() {\n    setCurQuestion(1);\n    setReviewMode(true);\n  }\n\n  function handleRetry() {\n    resetPageTracking();\n    setCurQuestion(1);\n    setReviewMode(false);\n    setQuizFinished(false);\n  }\n\n  function resetPageTracking() {\n    // clear all answers (tracking) for resourceId's\n    clearTracking(currentPage.resourceId);\n    resetQuestionsTracking();\n  }\n\n  function resetQuestionsTracking() {\n    _.forEach(questions, (q) => {\n      clearTracking(q.resourceId);\n    });\n  }\n\n  function calculateQuizResult() {\n    // do not calculate if has already calculated\n    if (!_.isEmpty(result)) return;\n\n    // caculate result\n    let totalAnsweredCorrectly = 0;\n    let totalAnsweredIncorrectly = 0;\n    // let totalAnsweredIncorrectly = 0;\n    _.forEach(questions, ({ resourceId }) => {\n      const { answeredCorrectly } = getTracking(resourceId);\n      answeredCorrectly ? totalAnsweredCorrectly++ : totalAnsweredIncorrectly++;\n    });\n\n    const score = Math.round((totalAnsweredCorrectly / questions.length) * 100);\n    patchTracking(currentPage.resourceId, {\n      result: {\n        score,\n        totalAnsweredCorrectly,\n        totalAnsweredIncorrectly,\n        totalAnswered: totalAnsweredCorrectly + totalAnsweredIncorrectly,\n      },\n    });\n  }\n\n  function renderResult() {\n    const { result } = pageTracking;\n    if (!quizFinished || reviewMode || !result) return;\n\n    return (\n      <QuizResult\n        result={result}\n        hasPassed={hasPassed}\n        passingScore={passingScore}\n        cannotProgressWhenFailed={cannotProgressWhenFailed}\n        resourceId={currentPage.resourceId}\n        globalState={globalState}\n      />\n    );\n  }\n\n  function renderIntro() {\n    if (quizStarted) return;\n    return (\n      <div className={styles.Quiz__intro}>\n        <h3>\n          <Label>Take this quiz to test your knowledge.</Label>\n        </h3>\n      </div>\n    );\n  }\n\n  const canRetry = useMemo(() => {\n    return quizFinished && !reviewMode && allowRetryWhenFailed && !hasPassed;\n  }, [allowRetryWhenFailed, hasPassed, quizFinished, reviewMode]);\n\n  function handleButtonOnMount(el) {\n    if (quizFinished) return;\n    scrollIntoViewSmooth(el);\n  }\n\n  return (\n    <ContainerPage\n      className={styles.Quiz}\n      title={title}\n      globalState={globalState}\n    >\n      {renderIntro()}\n      {renderQuestions()}\n      {renderResult()}\n      <div className={styles.Quiz__footer}>\n        {quizStarted && !quizFinished && !canGoNextQuestion() && canSubmit() && (\n          <Button\n            primary\n            onClick={handleSubmitAnswer}\n            onMount={handleButtonOnMount}\n            globalState={globalState}\n            testId=\"submit-question-button\"\n          >\n            <Label>submit</Label>\n          </Button>\n        )}\n        {((!quizFinished && canGoNextQuestion()) || reviewMode) && (\n          <Button\n            secondary\n            onClick={handleNextQuestion}\n            onMount={handleButtonOnMount}\n            globalState={globalState}\n            testId=\"next-question-button\"\n          >\n            <Label>next</Label>\n          </Button>\n        )}\n        {quizFinished && !reviewMode && !canRetry && (\n          <Button secondary onClick={handleReview} globalState={globalState}>\n            <Label>review</Label>\n          </Button>\n        )}\n        {canRetry && (\n          <Button secondary onClick={handleRetry} globalState={globalState}>\n            <Label>retry</Label>\n          </Button>\n        )}\n        {!anyChoiceTouched && !quizStarted && (\n          <Button\n            primary\n            onClick={onPageStarted}\n            disabled={maxQuestion === 0}\n            globalState={globalState}\n            testId=\"start-quiz-button\"\n          >\n            <Label>start quiz</Label>\n          </Button>\n        )}\n      </div>\n    </ContainerPage>\n  );\n}\n\nexport default Quiz;\n","import React, { useEffect, useRef, useState } from 'react';\nimport { extname } from 'path';\n\nimport styles from './Video.module.scss';\nimport { useContextSelector } from 'use-context-selector';\nimport { UIContext } from '../../context/UI/UIContext';\n\nfunction Video({ filename, baseURL, settings = {}, globalState }) {\n  const { onPageCompleted, player, getCurrentPage, getTracking } = globalState;\n  const [random, setRandom] = useState();\n  const [reloading, setReloading] = useState(false);\n  const { disableSeek } = settings;\n  const videoRef = useRef();\n  const supposedCurrentTime = useRef();\n  const currentPage = getCurrentPage();\n  const pageTracking = getTracking(currentPage.resourceId);\n  const pageCompleted = pageTracking?.completed;\n  const startBlinkNext = useContextSelector(UIContext, (c) => c.startBlinkNext);\n\n  useEffect(() => {\n    // force reload when data changes\n    setRandom(Math.ceil(Math.random() * 1000));\n  }, [filename]);\n\n  useEffect(() => {\n    setReloading(true);\n    setTimeout(() => {\n      setReloading(false);\n    }, 100);\n  }, [random]);\n\n  let src = `${baseURL}/${filename}`;\n  // to avoid random factor when editing (spaming the server requesting media)\n  if (player.editMode) src += `?r=${random}`;\n\n  if (reloading) return null;\n\n  return (\n    <div className={styles.Video}>\n      <video\n        ref={videoRef}\n        controls\n        autoPlay\n        controlsList=\"nodownload\"\n        onEnded={(e) => {\n          onPageCompleted(() => startBlinkNext());\n          // reset state in order to allow for rewind\n          supposedCurrentTime.current = 0;\n        }}\n        onContextMenu={(e) => e.preventDefault()}\n        onTimeUpdate={(e) => {\n          if (!videoRef?.current?.seeking) {\n            supposedCurrentTime.current = videoRef.current.currentTime;\n          }\n        }}\n        onSeeking={(e) => {\n          // code below is only valid if disableSeek is enabled\n          if (!disableSeek || pageCompleted) return;\n\n          // guard agains infinite recursion:\n          // user seeks, seeking is fired, currentTime is modified, seeking is fired, current time is modified, ....\n          const delta =\n            videoRef.current.currentTime - supposedCurrentTime.current;\n\n          // only allows do seek backwards\n          if (delta > 0.01) {\n            // console.log(\"Seeking is disabled\");\n            videoRef.current.currentTime = supposedCurrentTime.current;\n          }\n        }}\n      >\n        <source\n          src={src}\n          type={`video/${extname(filename).replace('.', '')}`}\n        />\n        Your browser does not support the video tag.\n      </video>\n    </div>\n  );\n}\n\nexport default Video;\n","let receiver = [];\nlet messengerEvent = null;\n\nexport const init = () => {\n  receiver = [];\n  messengerEvent = null;\n  window.addEventListener('message', onReceiveMessage, false);\n};\n\nexport const remove = () => {\n  window.removeEventListener('message', onReceiveMessage);\n};\n\nexport const addOnReceiveMessage = (message, execFunction) => {\n  receiver.push({\n    message: message,\n    execFunction: execFunction,\n  });\n};\n\nconst onReceiveMessage = (event) => {\n  try {\n    JSON.parse(event.data);\n    const _receivedData = JSON.parse(event.data) || {};\n    const _message = _receivedData.message || {};\n    const _param = _receivedData.param || {};\n    if (!messengerEvent) messengerEvent = event;\n    executeMessage(_message, _param);\n  } catch (e) {\n    //console.error('[onReceiveMessage] message received does not have a valid format and will not be executed.', event.data, e);\n  }\n};\n\nconst executeMessage = (message, param) => {\n  // find in receiver\n  const theMessage =\n    receiver.filter((receiver) => receiver.message === message) || [];\n  if (theMessage && theMessage[0] && theMessage[0].execFunction)\n    theMessage[0].execFunction(param);\n};\n\nexport const sendMessage = (message, param, sourceWindow) => {\n  const _data = { message: message, param: param };\n\n  if (sourceWindow) {\n    sourceWindow.postMessage(JSON.stringify(_data), '*');\n  } else if (messengerEvent && messengerEvent.source) {\n    messengerEvent.source.postMessage(\n      JSON.stringify(_data),\n      messengerEvent.origin\n    );\n  } else {\n    console.warn(\n      '[sendMessage] cannot postMessage: window does not exists in this context'\n    );\n  }\n};\n","import React from 'react';\nimport BarLoader from 'react-spinners/BarLoader';\n\nimport styles from './Spinner.module.scss';\n\nfunction Spinner() {\n  return (\n    <div className={styles.Spinner__container} data-testid=\"Spinner\">\n      <BarLoader color=\"#666\" size=\"16px\" loading={true} />\n    </div>\n  );\n}\n\nexport default Spinner;\n","import React, { useEffect, useRef, useState } from 'react';\n\nimport styles from './Game.module.scss';\nimport * as messenger from '../../utils/messenger';\nimport { encodeIt } from '../../utils/utils';\nimport Spinner from '../../UI/Spinner/Spinner';\nimport { useContextSelector } from 'use-context-selector';\nimport { UIContext } from '../../context/UI/UIContext';\nimport { isThisGameLastInCourse } from '../../selectors/courseSelector';\n\nfunction Game({ game = {}, resourceId, globalState }) {\n  const { onPageCompleted, goNextPage, setCourseScore, player, course } =\n    globalState;\n  const iframeRef = useRef();\n  const { id, data } = game;\n  const dataRef = useRef(data);\n  dataRef.current = data;\n  const [random, setRandom] = useState();\n  const startBlinkNext = useContextSelector(UIContext, (c) => c.startBlinkNext);\n\n  useEffect(() => {\n    messenger.init();\n    messenger.addOnReceiveMessage('requestParameters', () => {\n      // send game data to render on iframe\n      const frameWindow = iframeRef.current.contentWindow || null;\n      messenger.sendMessage(\n        'retrieveParameters',\n        encodeIt(dataRef.current),\n        frameWindow\n      );\n      messenger.sendMessage('retrieveParameters');\n    });\n\n    messenger.addOnReceiveMessage('setAnswer', (data) => {\n      const shouldSetScore = isThisGameLastInCourse(course, resourceId);\n      console.log({ score: data.score, shouldSetScore });\n      shouldSetScore && setCourseScore(data.score);\n      onPageCompleted(() => startBlinkNext());\n      goNextPage();\n    });\n\n    return () => {\n      messenger.remove();\n    };\n  }, [data, goNextPage, onPageCompleted, setCourseScore]); // eslint-disable-line\n\n  useEffect(() => {\n    // force reload iframe when data changes\n    setRandom(Math.ceil(Math.random() * 1000));\n  }, [data, id]);\n\n  let src = `${process.env.PUBLIC_URL}/assets/games/${id}/index.html`;\n  // to avoid random factor when editing (spaming the server requesting media)\n  if (player.editMode) src += `?r=${random}`;\n\n  if (!id) return <Spinner />;\n\n  return (\n    <iframe\n      title={id}\n      src={src}\n      width=\"100%\"\n      height=\"100%\"\n      ref={iframeRef}\n      frameBorder=\"0\"\n      className={styles.Game__iframe}\n    />\n  );\n}\n\nexport default Game;\n","// check if this game is the last game in course\n\nimport _ from 'lodash';\n\n// (to decide if it be graded or not)\nexport const isThisGameLastInCourse = (\n  course: object = {},\n  gameResourceId: string\n) => {\n  let found = false;\n  let isLastInCourse = true;\n  // @ts-ignore\n  _.forEach(course?.pages, (p) => {\n    if (!!p?.resourceId && p.resourceId === gameResourceId) {\n      found = true;\n    } else if (\n      (found && p.resourceType === 'game') ||\n      p.resourceType === 'quiz'\n    ) {\n      isLastInCourse = false;\n    }\n  });\n  return isLastInCourse;\n};\n","import React, { useState } from 'react';\n\nimport styles from './Agreement.module.scss';\nimport ContainerPage from '../../UI/ContainerPage/ContainerPage';\nimport Button from '../../UI/Button/Button';\nimport Alert from '../../UI/Alert/Alert';\n\ntype AgreementProps = {\n  title: string;\n  description: string;\n  checkboxLabel: string;\n  buttonLabel: string;\n  alreadyAcceptedLabel: string;\n  globalState: any;\n};\n\nfunction Agreement({\n  title,\n  description,\n  checkboxLabel,\n  buttonLabel,\n  alreadyAcceptedLabel,\n  globalState,\n}: AgreementProps) {\n  const { onPageCompleted, getCurrentPage, getTracking, goNextPage } =\n    globalState;\n  const currentPage = getCurrentPage();\n  const pageTracking = getTracking(currentPage.resourceId);\n  const pageCompleted = pageTracking?.completed;\n  const [agreed, setAgreed] = useState<boolean>(false);\n\n  function handleConfirm() {\n    onPageCompleted(() => goNextPage());\n  }\n\n  return (\n    <ContainerPage\n      className={styles.Agreement}\n      title={title}\n      globalState={globalState}\n    >\n      <div\n        className={styles.Agreement__intro}\n        style={{ whiteSpace: 'pre-wrap' }}\n      >\n        <p>{description}</p>\n      </div>\n      <hr />\n      {!pageCompleted && (\n        <div className={styles.Agreement__checkbox}>\n          <input\n            type=\"checkbox\"\n            name=\"agreed\"\n            id=\"agreed\"\n            onChange={(e) => setAgreed(e.target.checked)}\n            disabled={pageCompleted}\n          />\n          <label htmlFor=\"agreed\">{checkboxLabel}</label>\n        </div>\n      )}\n      <div className={styles.Agreement__footer}>\n        {!pageCompleted ? (\n          <Button\n            primary\n            onClick={handleConfirm}\n            globalState={globalState}\n            disabled={!agreed}\n          >\n            {buttonLabel}\n          </Button>\n        ) : (\n          <Alert success>{alreadyAcceptedLabel}</Alert>\n        )}\n      </div>\n    </ContainerPage>\n  );\n}\n\nexport default Agreement;\n","import React, { ReactNode } from 'react';\nimport { IconProp } from '@fortawesome/fontawesome-svg-core';\n\nimport styles from './ButtonAlt.module.scss';\nimport Icon from '../Icon/Icon';\n\ntype ButtonAltProps = {\n  children?: string | ReactNode;\n  icon?: IconProp;\n  theme?: 'gray';\n  className?: string;\n  onClick?: () => void;\n  disabled?: boolean;\n};\n\nfunction ButtonAlt({\n  children,\n  icon,\n  theme,\n  className,\n  onClick,\n  disabled,\n}: ButtonAltProps) {\n  return (\n    <button\n      className={[\n        styles.root,\n        theme ? styles[theme] : '',\n        disabled ? styles.disabled : '',\n        className ? className : '',\n      ].join(' ')}\n      onClick={!!onClick ? onClick : undefined}\n      disabled={disabled}\n    >\n      {icon && (\n        <Icon\n          icon={icon}\n          className={[styles.icon, children ? styles.mr : ''].join(' ')}\n        />\n      )}\n      {children && <span>{children}</span>}\n    </button>\n  );\n}\n\nexport default ButtonAlt;\n","import React, { useEffect, useMemo, useRef } from 'react';\nimport _ from 'lodash';\nimport ReactHtmlParser from 'react-html-parser';\nimport { format } from 'date-fns';\nimport ptLocale from 'date-fns/locale/pt-BR';\nimport esLocale from 'date-fns/locale/es';\nimport itLocale from 'date-fns/locale/it';\nimport deLocale from 'date-fns/locale/de';\nimport frLocale from 'date-fns/locale/fr';\nimport ruLocale from 'date-fns/locale/ru';\n\nimport styles from './CertificateItself.module.scss';\nimport { CertificatePageProps } from './Certificate';\n\ntype CertificateItselfProps = CertificatePageProps & {\n  onMount: (arg: HTMLDivElement) => void;\n};\n\nfunction CertificateItself(props: CertificateItselfProps) {\n  const { getTracking, course = {}, scorm = {} } = props.globalState;\n  const courseTraking = getTracking(course.courseId);\n  const { studentName = 'Name' } = scorm.initialScormData;\n  const certificateRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    certificateRef.current && props.onMount(certificateRef.current);\n  }, []); // eslint-disable-line\n\n  const message = useMemo(() => {\n    function formatDate() {\n      const completedAt = courseTraking?.completedAt || new Date();\n      switch (course?.language) {\n        case 'pt-BR':\n          return format(completedAt, 'dd MMMM yyyy', {\n            locale: ptLocale,\n          });\n        case 'es-ES':\n          return format(completedAt, 'dd MMMM yyyy', {\n            locale: esLocale,\n          });\n        case 'it-IT':\n          return format(completedAt, 'dd MMMM yyyy', {\n            locale: itLocale,\n          });\n        case 'de-DE':\n          return format(completedAt, 'dd MMMM yyyy', {\n            locale: deLocale,\n          });\n        case 'fr-FR':\n          return format(completedAt, 'dd MMMM yyyy', {\n            locale: frLocale,\n          });\n        case 'ru-RU':\n          return format(completedAt, 'dd MMMM yyyy', {\n            locale: ruLocale,\n          });\n        default:\n          return format(completedAt, 'MMM do yyyy');\n      }\n    }\n\n    let updatedMessage = props.certificate.message;\n    if (course?.name)\n      updatedMessage = _.replace(\n        updatedMessage,\n        '[[COURSE_NAME]]',\n        `<strong>${course?.name}</strong>`\n      );\n    updatedMessage = _.replace(\n      updatedMessage,\n      '[[COMPLETION_DATE]]',\n      `<strong>${formatDate()}</strong>`\n    );\n    return ReactHtmlParser(updatedMessage);\n  }, [courseTraking, course]); // eslint-disable-line\n\n  return (\n    <div className={styles.root} ref={certificateRef}>\n      <div className={styles.inner}>\n        <h2>{props.title}</h2>\n        <div className={styles.main}>\n          <h1>{studentName}</h1>\n          <p className={styles.description}>{message}</p>\n        </div>\n        <div className={styles.bottom}>\n          <p className={styles.signature}>{props.certificate.instructorName}</p>\n          <p className={styles.instructor}>\n            <span>{props.certificate.instructorName}</span> <br />\n            <span>{props.certificate.instructorJob}</span>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default CertificateItself;\n","import React, { useState } from 'react';\nimport ReactModal from 'react-modal';\nimport { toJpeg } from 'html-to-image';\n\nimport styles from './CertificateModal.module.scss';\nimport Label from '../../context/Label/Label';\nimport ButtonAlt from '../../UI/ButtonAlt/ButtonAlt';\nimport { CertificatePageProps } from './Certificate';\nimport CertificateItself from './CertificateItself';\n\ntype CertificateModalProps = CertificatePageProps & {\n  onClickOutside: () => void;\n};\n\nfunction CertificateModal({ onClickOutside, ...props }: CertificateModalProps) {\n  const { player } = props.globalState;\n  const [certificateDiv, setCertificateDiv] = useState<HTMLDivElement | null>(\n    null\n  );\n  const [printDialogOpen, setPrintDialogOpen] = useState<boolean>(false);\n\n  async function handleDownload() {\n    if (!certificateDiv) return;\n    toJpeg(certificateDiv, { quality: 0.95 }).then((dataUrl) => {\n      const link = document.createElement('a');\n      link.download = `certificate.jpeg`;\n      link.href = dataUrl;\n      link.click();\n    });\n  }\n\n  function handlePrint() {\n    setPrintDialogOpen(true);\n    // why this? because this state do allow print from editMode\n    setTimeout(() => {\n      window.print();\n      setPrintDialogOpen(false);\n    }, 1000);\n  }\n\n  return (\n    <ReactModal\n      isOpen={true}\n      onRequestClose={onClickOutside}\n      overlayClassName={\n        player?.editMode && printDialogOpen\n          ? styles.modalOverlayPrintDialogOpen\n          : undefined\n      }\n      className={\n        !player?.editMode || printDialogOpen\n          ? styles.modalContent\n          : styles.modalContentInEditMode\n      }\n      ariaHideApp={false}\n    >\n      <div className={styles.topMenu}>\n        {certificateDiv && (\n          <ButtonAlt icon=\"download\" onClick={handleDownload}>\n            <Label>download</Label>\n          </ButtonAlt>\n        )}\n        <ButtonAlt\n          icon=\"print\"\n          onClick={handlePrint}\n          disabled={printDialogOpen}\n        >\n          <Label>print</Label>\n        </ButtonAlt>\n        <ButtonAlt icon=\"times\" onClick={onClickOutside} />\n      </div>\n      <CertificateItself {...props} onMount={setCertificateDiv} />\n    </ReactModal>\n  );\n}\n\nexport default CertificateModal;\n","import React, { useEffect, useState } from 'react';\n\nimport styles from './Certificate.module.scss';\nimport ContainerPage from '../../UI/ContainerPage/ContainerPage';\nimport Button from '../../UI/Button/Button';\nimport Icon from '../../UI/Icon/Icon';\nimport Label from '../../context/Label/Label';\nimport CertificateModal from './CertificateModal';\nimport Alert from '../../UI/Alert/Alert';\n\nexport type CertificatePageProps = {\n  title: string;\n  description: string;\n  certificate: {\n    message: string;\n    instructorName: string;\n    instructorJob: string;\n  };\n  globalState: any;\n};\n\nfunction Certificate(props: CertificatePageProps) {\n  const { title, description, globalState } = props;\n  const { onPageCompleted, courseCompleted, player } = globalState;\n  const [showCertificate, setShowCertificate] = useState<boolean>(false);\n  const canViewCertificate = courseCompleted || player?.editMode;\n\n  useEffect(() => {\n    onPageCompleted();\n  }, []); // eslint-disable-line\n\n  return (\n    <ContainerPage\n      className={styles.Certificate}\n      title={title}\n      globalState={globalState}\n    >\n      {showCertificate && (\n        <CertificateModal\n          onClickOutside={() => setShowCertificate(false)}\n          {...props}\n        />\n      )}\n      <div className={styles.Certificate__intro}>\n        <Icon icon=\"award\" className={styles.awardIcon} />\n        {canViewCertificate ? (\n          <p>{description}</p>\n        ) : (\n          <Alert warning>\n            <Label>Visit all course pages to view the certificate.</Label>\n          </Alert>\n        )}\n        <Button\n          primary\n          onClick={() => setShowCertificate(true)}\n          globalState={globalState}\n          disabled={!canViewCertificate}\n        >\n          <Label>view certificate</Label>\n        </Button>\n      </div>\n    </ContainerPage>\n  );\n}\n\nexport default Certificate;\n","import React, { useEffect, useRef, useState } from 'react';\nimport { useContextSelector } from 'use-context-selector';\n\nimport styles from './Main.module.scss';\nimport Slide from '../Content/Slide/Slide';\nimport Youtube from '../Content/Youtube/Youtube';\nimport Quiz from '../Content/Quiz/Quiz';\nimport Video from '../Content/Video/Video';\nimport Game from '../Content/Game/Game';\nimport { UIContext } from '../context/UI/UIContext';\nimport Agreement from '../Content/Agreement/Agreement';\nimport Certificate from '../Content/Certificate/Certificate';\n\nfunction Main({ globalState }) {\n  const { getCurrentPage, course } = globalState;\n  const page = getCurrentPage();\n  const [isChangingPage, setIsChangingPage] = useState(false);\n  const timeout = useRef();\n  const background = useContextSelector(UIContext, (c) => c.background);\n\n  useEffect(() => {\n    if (!isChangingPage) return;\n    clearTimeout(timeout.current);\n    timeout.current = setTimeout(() => setIsChangingPage(false), 50);\n  }, [isChangingPage]);\n\n  useEffect(() => {\n    setIsChangingPage(true);\n  }, [page.resourceId]);\n\n  // onUnmount: clear timeout to avoid render errors\n  useEffect(() => {\n    return () => clearTimeout(timeout.current);\n  }, []);\n\n  function renderPage() {\n    switch (page?.resourceType) {\n      case 'slide':\n        return (\n          <Slide\n            filename={page?.filename}\n            baseURL={course.baseURL}\n            hyperlink={page?.hyperlink}\n            globalState={globalState}\n          />\n        );\n      case 'video':\n        if (page?.video?.type === 'youtube') {\n          return (\n            <Youtube\n              url={page.video.youtubeUrl}\n              settings={page?.settings}\n              globalState={globalState}\n            />\n          );\n        } else if (page?.video?.type === 'upload') {\n          return (\n            <Video\n              filename={page?.video?.name}\n              baseURL={course.baseURL}\n              settings={page?.settings}\n              globalState={globalState}\n            />\n          );\n        } else {\n          return null;\n        }\n      case 'quiz':\n        return <Quiz {...page} globalState={globalState} />;\n      case 'game':\n        return <Game {...page} globalState={globalState} />;\n      case 'agreement':\n        return <Agreement {...page} globalState={globalState} />;\n      case 'certificate':\n        return <Certificate {...page} globalState={globalState} />;\n      default:\n        return <span>{page?.type}</span>;\n    }\n  }\n\n  if (isChangingPage) return null;\n\n  const backgroundOpacity =\n    background?.opacity >= 0 && background?.opacity <= 1\n      ? 1 - background.opacity\n      : 0;\n\n  return (\n    <div\n      className={styles.Main}\n      style={{\n        backgroundImage:\n          background?.image?.name && course?.baseURL\n            ? `linear-gradient(rgba(255, 255, 255, ${backgroundOpacity}), rgba(255, 255, 255, ${backgroundOpacity})), url('${course?.baseURL}/${background?.image?.name}')`\n            : // example on how to darken a background-image (because opacity does not work)\n              // `linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('${course?.baseURL}/${background?.image?.name}')`\n              undefined,\n      }}\n    >\n      {renderPage()}\n    </div>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nimport styles from './IconSuccess.module.scss';\nimport Icon from './Icon';\n\ntype IconSuccessProps = {\n  className?: string;\n  testId?: string;\n};\n\nfunction IconSuccess({ className = '', testId }: IconSuccessProps) {\n  return (\n    <Icon\n      icon=\"check-circle\"\n      className={[styles.icon, className].join(' ')}\n      testId={testId}\n    />\n  );\n}\n\nexport default IconSuccess;\n","import React from 'react';\n\nimport styles from './MenuItem.module.scss';\nimport Icon from '../../UI/Icon/Icon';\nimport IconSuccess from '../../UI/Icon/IconSuccess';\n\nfunction MenuItem({\n  children,\n  active,\n  completed,\n  disabled,\n  icon,\n  onClick = () => {},\n  globalState,\n}) {\n  const { primary } = globalState.getColorScheme();\n\n  const className = [styles.MenuItem];\n  active && className.push(styles['MenuItem--active']);\n  disabled && className.push(styles['MenuItem--disabled']);\n\n  const style = active ? { borderLeftColor: primary } : {};\n\n  return (\n    <div\n      className={className.join(' ')}\n      style={style}\n      onClick={!disabled ? onClick : () => {}}\n    >\n      <Icon icon={icon} className={styles.MenuItem__icon} />\n      <span className={styles.MenuItem__label}>{children}</span>\n      {completed ? (\n        <IconSuccess\n          className={styles.MenuItem__icon}\n          testId=\"MenuItem__icon__success\"\n        />\n      ) : (\n        <Icon icon=\"circle\" className={styles.MenuItem__icon} />\n      )}\n    </div>\n  );\n}\n\nexport default MenuItem;\n","import React, { useEffect, useState } from 'react';\nimport { extname } from 'path';\n\nimport styles from './VideoPlayback.module.scss';\n\nfunction VideoPlayback({ videoMetadata, pageResourceId, globalState }) {\n  const [forceRender, setForceRender] = useState(false);\n  const [error, setError] = useState();\n  const { course } = globalState;\n\n  useEffect(() => {\n    setForceRender(true);\n  }, [videoMetadata]);\n\n  useEffect(() => {\n    forceRender && setForceRender(false);\n  }, [forceRender]);\n\n  return (\n    <div className={styles.VideoPlayback}>\n      {!forceRender && !error && (\n        <video\n          controls\n          autoPlay\n          controlsList=\"nodownload\"\n          onContextMenu={(e) => e.preventDefault()}\n          onError={(err) => setError(err)}\n        >\n          <source\n            src={`${course.baseURL}/${videoMetadata?.name}`}\n            type={`video/${extname(videoMetadata?.name).replace('.', '')}`}\n          />\n        </video>\n      )}\n    </div>\n  );\n}\n\nexport default VideoPlayback;\n","import packageJson from '../../../../package.json';\n\n// 2.0.1: fix: Course Completed message was always in portuguese\n// 2.0.2: feat: New languages\n// 2.0.3: feat: Retry quiz\n// 2.0.4: feat: Failed/passed status on quiz\n// 2.0.5: fix: Audio component do not display when empty attributes\n// 2.0.7: feat: Scorm 2004 3rd edition\n// 2.0.8: feat: Updating imsmanifest with wildcards\n// 2.0.20: feat: Preloading slide images, placeholder when loading, fade in pages\n// 2.0.21: fix: compress/decompress json of suspendData (limit of Scorm 1.2 is 4096 chars)\n// 3.0.0: feat: labels revamp + course player typescript + npm publish private package\n// 3.0.1: fix: quiz saving answers with resourceId instead of text (make it short for suspend_data)\n// 3.0.2: fix: the last fix broke correct check in quiz\n// 3.0.3: feat: matching\n// UNSTABLE: 3.0.6: fix: packages updated to avoid dependency error when installing this package\n// UNSTABLE:  3.0.7: fix: infinite render on clearBackground and missing React import\n// UNSTABLE:  3.0.8: fix: change fillInTheBlank params to match InputTag component on editor\n// UNSTABLE:  3.0.10: refactor: sentence as a functional component on fill in the blanks\n// UNSTABLE:  3.0.12: fix: labels and check correct on essay\n// UNSTABLE:  3.0.18: fix: quiz order when added (editorMode) and randomize when all question in page was set\n// 3.1.0: feat: new quiz types\n// 3.1.1: fix: passing score, fill in the blanks, debounce setSuspendData\n// 3.1.3: fix: navigation mode\n// 3.1.5: feat: hyperlink, disable video seek, blink on next, scrollIntoView on quiz, matching on texts\n// 3.1.7: feat: cannotProgressWhenFailed quiz config\n// 3.2.0: feat: licensed package\nexport const VERSION = packageJson.version;\n","import React from 'react';\nimport _ from 'lodash';\n\nimport styles from './Menu.module.scss';\nimport MenuItem from './MenuItem/MenuItem';\nimport VideoPlayback from './VideoPlayback/VideoPlayback';\nimport Label from '../context/Label/Label';\nimport { VERSION } from '../constants/version';\n\nfunction Menu({ globalState }) {\n  const {\n    getCurrentPage,\n    getPages,\n    goPage,\n    getTracking,\n    player,\n    isNavigationModeFree,\n  } = globalState;\n  const pages = getPages();\n  const currentPage = getCurrentPage();\n\n  function getIcon(type) {\n    switch (type) {\n      case 'video':\n      case 'youtube':\n        return 'video';\n      case 'quiz':\n        return 'edit';\n      default:\n        return 'bars';\n    }\n  }\n\n  return (\n    <div className={styles.Menu}>\n      {!_.isEmpty(currentPage?.facevideo) && player.showMenu && (\n        <VideoPlayback\n          videoMetadata={currentPage?.facevideo}\n          pageResourceId={currentPage?.resourceId}\n          globalState={globalState}\n        />\n      )}\n      <div className={styles.Menu__title}>\n        <Label>Table of Contents</Label>\n      </div>\n      <div className={styles.Menu__list}>\n        {_.map(pages, (page, i) => {\n          const _trackingPrevPage = getTracking(pages[i - 1]?.resourceId);\n          const _tracking = getTracking(page.resourceId);\n          return (\n            <MenuItem\n              key={i}\n              completed={_tracking.completed}\n              active={currentPage?.resourceId === page.resourceId}\n              disabled={\n                !_trackingPrevPage.completed &&\n                !_tracking.completed &&\n                !isNavigationModeFree &&\n                i > 0 // not first page\n              }\n              icon={getIcon(page.type)}\n              onClick={() => goPage(i + 1)}\n              globalState={globalState}\n            >\n              {page.title || `Page ${i + 1}`}\n            </MenuItem>\n          );\n        })}\n      </div>\n      <div className={styles.Menu__bottom}>{VERSION}</div>\n    </div>\n  );\n}\n\nexport default Menu;\n","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\n/**\n * Component that alerts if you click outside of it\n */\nexport default class OutsideAlerter extends Component {\n  constructor(props) {\n    super(props);\n\n    this.setWrapperRef = this.setWrapperRef.bind(this);\n    this.handleClickOutside = this.handleClickOutside.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener('mousedown', this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.handleClickOutside);\n  }\n\n  /**\n   * Set the wrapper ref\n   */\n  setWrapperRef(node) {\n    this.wrapperRef = ReactDOM.findDOMNode(node);\n  }\n\n  /**\n   * Alert if clicked on outside of element\n   */\n  handleClickOutside(event) {\n    try {\n      const { onClickOutside } = this.props;\n      if (\n        this.wrapperRef &&\n        this.wrapperRef.contains &&\n        !this.wrapperRef.contains(event.target)\n      ) {\n        if (onClickOutside) onClickOutside();\n      }\n    } catch (err) {\n      //getGeneralCatchError(err);\n    }\n  }\n\n  render() {\n    const childElement = React.Children.only(this.props.children);\n\n    return React.cloneElement(childElement, { ref: this.setWrapperRef });\n  }\n}\n\nOutsideAlerter.propTypes = {\n  children: PropTypes.element.isRequired\n};\n","import { useState } from 'react';\nimport { compress, decompress } from 'compress-json';\nimport { cleanedObject, isRunningInProd } from '../utils/utils';\n\nfunction useScorm() {\n  const [previous, setPrevious] = useState({});\n  const emulateScorm = !isRunningInProd();\n\n  function setupScormScripts() {\n    return new Promise((resolve, reject) => {\n      const scripts = ['scripts/APIWrapper.js', 'scripts/AUFunctions.js'];\n\n      const onLoadPromises = [];\n\n      scripts.forEach((file) => {\n        let script = document.createElement('script');\n        script.type = 'text/javascript';\n        script.async = true;\n\n        script.src = file;\n        onLoadPromises.push(\n          new Promise((resolve, reject) => {\n            script.onload = function () {\n              resolve();\n            };\n          })\n        );\n        document.body.appendChild(script);\n      });\n\n      Promise.all(onLoadPromises)\n        .then((res) => {\n          resolve();\n        })\n        .catch((err) => reject(err));\n    });\n  }\n\n  async function initializeScormAsync({ emulatedScormData }) {\n    console.log('initializeScormAsync');\n    let scormData;\n\n    return new Promise((resolve, reject) => {\n      // 1. try without interval:\n      try {\n        scormData = initializeScorm({ emulatedScormData });\n        return resolve(scormData);\n      } catch (err) {\n        // do nothing, will continue below\n        console.error(err);\n        console.warn(`initial attempt failed, retrying...`);\n      }\n\n      // 2. start retrying process:\n      const maxRetry = 5;\n      let curRetry = 0;\n      let lastError;\n      const interval = setInterval(() => {\n        if (curRetry >= maxRetry) {\n          clearInterval(interval);\n          return reject(lastError);\n        }\n        try {\n          scormData = initializeScorm({ emulatedScormData });\n          clearInterval(interval);\n          return resolve(scormData);\n        } catch (err) {\n          console.error(err);\n          console.warn(`attempt ${curRetry}/${maxRetry} failed`);\n          lastError = err;\n          curRetry++;\n        }\n      }, 1000);\n    });\n  }\n\n  function startScormEmulator({ emulatedScormData = {} }) {\n    console.log('[startScormEmulator]');\n    if (!window.getAPIHandle)\n      window.getAPIHandle = () => {\n        console.log('[getAPIHandle]');\n        return true;\n      };\n    if (!window.doLMSGetValue)\n      window.doLMSGetValue = (arg) => {\n        console.log('[doLMSGetValue]', arg);\n        switch (arg) {\n          case 'cmi.core.lesson_location':\n            return emulatedScormData?.lessonLocation || '';\n          case 'cmi.core.student_id':\n            return emulatedScormData?.studentId || 'student_id';\n          case 'cmi.core.student_name':\n            return emulatedScormData?.studentName || 'Student Name';\n          default:\n            return '';\n        }\n      };\n    if (!window.doLMSSetValue)\n      window.doLMSSetValue = (arg, val) =>\n        console.log('[doLMSSetValue]', arg, val);\n    if (!window.doLMSCommit)\n      window.doLMSCommit = () => console.log('[doLMSCommit]');\n    if (!window.loadPage) window.loadPage = () => console.log('[loadPage]');\n    if (!window.unloadPage)\n      window.unloadPage = () => console.log('[unloadPage]');\n    if (!window.setLessonStatus)\n      window.setLessonStatus = (arg, val) =>\n        console.log('[setLessonStatus]', arg, val);\n  }\n\n  function initializeScorm({ emulatedScormData }) {\n    if (emulateScorm) startScormEmulator({ emulatedScormData });\n\n    try {\n      // first, check if SCORM api exists\n      if (!window.getAPIHandle())\n        throw Error(\"Unable to locate the LMS's API implementation\");\n\n      // initialize\n      window.loadPage();\n\n      // get persisted data\n      const lessonLocation = window.doLMSGetValue('cmi.core.lesson_location');\n      const suspendData = window.doLMSGetValue('cmi.suspend_data');\n      const lessonStatus = window.doLMSGetValue('cmi.core.lesson_status');\n      const scoreRaw = window.doLMSGetValue('cmi.core.score.raw');\n      const studentId = window.doLMSGetValue('cmi.core.student_id');\n      const studentName = window.doLMSGetValue('cmi.core.student_name');\n\n      // set unload event\n      window.addEventListener('unload', (event) => window.unloadPage());\n      window.addEventListener('beforeunload', (event) => window.unloadPage());\n\n      return {\n        lessonLocation,\n        suspendData,\n        lessonStatus,\n        scoreRaw,\n        studentId,\n        studentName,\n      };\n    } catch (err) {\n      throw new Error(err.message || err);\n    }\n  }\n\n  function setCompleted(callback) {\n    setLessonStatus('completed');\n    callback && callback('setCompleted');\n  }\n\n  function setPassed(callback) {\n    setLessonStatus('passed');\n    callback && callback('setPassed');\n  }\n\n  function setFailed(callback) {\n    setLessonStatus('failed');\n    callback && callback('setFailed');\n  }\n\n  function setLessonStatus(lessonStatus) {\n    if (lessonStatus === previous.lessonStatus) return;\n    window.doLMSSetValue('cmi.core.lesson_status', lessonStatus);\n    commit();\n    setPrevious({ ...previous, lessonStatus });\n  }\n\n  function setLessonLocation(lessonLocation, callback) {\n    if (lessonLocation === previous.lessonLocation) return;\n    window.doLMSSetValue('cmi.core.lesson_location', lessonLocation);\n    commit();\n    setPrevious({ ...previous, lessonLocation });\n    callback && callback('setLessonLocation');\n  }\n\n  function setSuspendData(suspendData) {\n    suspendData = cleanedObject(suspendData); // remove undefined\n    suspendData = compress(suspendData);\n    suspendData = JSON.stringify(suspendData);\n    if (suspendData === previous.suspendData) return;\n    window.doLMSSetValue('cmi.suspend_data', suspendData);\n    commit();\n    setPrevious({ ...previous, suspendData });\n  }\n\n  function getSuspendData(suspendData) {\n    suspendData = JSON.parse(suspendData);\n    suspendData = decompress(suspendData);\n    return suspendData;\n  }\n\n  function setScore(score, callback) {\n    if (score === previous.score) return;\n    window.doLMSSetValue('cmi.core.score.scaled', score / 100);\n    window.doLMSSetValue('cmi.core.score.raw', score);\n    window.doLMSSetValue('cmi.core.score.min', 0);\n    window.doLMSSetValue('cmi.core.score.max', 100);\n    commit();\n    setPrevious({ ...previous, score });\n    callback && callback('setScore', { score });\n  }\n\n  function exitScorm(callback) {\n    window.unloadPage();\n\n    // try to close window\n    try {\n      window.close();\n    } catch (err) {\n      try {\n        // eslint-disable-next-line\n        parent.window.close();\n      } catch (err) {\n        try {\n          // eslint-disable-next-line\n          top.window.close();\n        } catch (err) {\n          console.error(err);\n        }\n      }\n    }\n\n    callback && callback('exitScorm');\n  }\n\n  function commit() {\n    window.doLMSCommit();\n  }\n\n  return {\n    setupScormScripts,\n    initializeScorm,\n    initializeScormAsync,\n    setCompleted,\n    setPassed,\n    setFailed,\n    setLessonLocation,\n    setSuspendData,\n    getSuspendData,\n    setScore,\n    exitScorm,\n  };\n}\n\nexport default useScorm;\n","import { useReducer, useEffect, useCallback, useRef } from 'react';\nimport _ from 'lodash';\nimport { toast } from 'react-toastify';\n\nimport 'react-toastify/dist/ReactToastify.css';\nimport useScorm from './useScorm';\nimport { getOverallScore } from '../selectors/overalScoreSelector';\n\nfunction useGlobal() {\n  const {\n    setCompleted,\n    setFailed,\n    setPassed,\n    setSuspendData,\n    setLessonLocation,\n    setScore,\n    exitScorm,\n  } = useScorm();\n  const localLanguage = useRef();\n  const debouncedSetSuspendData = useRef();\n\n  function reducer(state, action) {\n    switch (action.type) {\n      case 'SET_COURSE':\n        const course = action.payload;\n        return {\n          ...state,\n          course: action.payload,\n          player: {\n            ...state.player,\n            maxPage: course?.pages?.length || 1,\n          },\n        };\n      case 'NEXT_PAGE':\n        return {\n          ...state,\n          player: {\n            ...state.player,\n            curPage:\n              state.player.curPage < state.player.maxPage\n                ? state.player.curPage + 1\n                : state.player.curPage,\n          },\n        };\n      case 'PREV_PAGE':\n        return {\n          ...state,\n          player: {\n            ...state.player,\n            curPage:\n              state.player.curPage > 1\n                ? state.player.curPage - 1\n                : state.player.curPage,\n          },\n        };\n      case 'GO_PAGE':\n        return {\n          ...state,\n          player: {\n            ...state.player,\n            curPage: action.payload,\n          },\n        };\n      case 'TOGGLE_MENU':\n        return {\n          ...state,\n          player: {\n            ...state.player,\n            showMenu: !state.player.showMenu,\n          },\n        };\n      case 'RESTORE_TRACKING':\n        return {\n          ...state,\n          tracking: action.payload,\n        };\n      case 'PATCH_TRACKING':\n        const { resourceId, data } = action.payload;\n        const updatedState = {\n          ...state,\n          tracking: {\n            ...state.tracking,\n            [resourceId]: {\n              ...state.tracking[resourceId],\n              ...data,\n            },\n          },\n        };\n        saveTrackingAsSuspendData(updatedState);\n        return updatedState;\n      case 'CLEAR_TRACKING':\n        const updatedState2 = {\n          ...state,\n          tracking: {\n            ...state.tracking,\n            [action.payload.resourceId]: {},\n          },\n        };\n        saveTrackingAsSuspendData(updatedState2);\n        return updatedState2;\n      case 'SET_MESSAGE':\n        return {\n          ...state,\n          player: {\n            ...state.player,\n            messages: {\n              ...state.player.messages,\n              [action.payload.key]: action.payload.value,\n            },\n          },\n        };\n      case 'SET_SCORM_READY':\n        return {\n          ...state,\n          scorm: {\n            ...state.scorm,\n            scormReady: action.payload,\n          },\n        };\n      case 'SET_SCORM_INITIAL_DATA':\n        return {\n          ...state,\n          scorm: {\n            ...state.scorm,\n            initialScormData: action.payload,\n          },\n        };\n      case 'SET_DISABLE_SCORM':\n        return {\n          ...state,\n          player: {\n            ...state.player,\n            disableScorm: action.payload,\n          },\n        };\n      case 'SET_EDIT_MODE':\n        return {\n          ...state,\n          player: {\n            ...state.player,\n            editMode: action.payload,\n          },\n        };\n      case 'SET_TEST_CALLBACK':\n        return {\n          ...state,\n          test: {\n            ...state.test,\n            callback: action.payload,\n          },\n        };\n      default:\n        handleError(new Error(`Action type not recognized: ${action.type}`));\n    }\n  }\n\n  const initialState = {\n    player: {\n      showMenu: false,\n      curPage: 1,\n      maxPage: 1,\n      disableScorm: false,\n      messages: {\n        courseCompleted: 'Course completed',\n      },\n    },\n    tracking: {},\n    course: {},\n    test: {\n      callback: () => {},\n    },\n    scorm: {\n      scormReady: false, // scorm initialized successfuly?\n      initialScormData: {}, // payload data after initialize scorm successfully\n    },\n  };\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  function initCourseData(course) {\n    dispatch({ type: 'SET_COURSE', payload: course });\n  }\n\n  function toggleMenu() {\n    dispatch({ type: 'TOGGLE_MENU' });\n  }\n\n  function goNextPage() {\n    dispatch({ type: 'NEXT_PAGE' });\n  }\n\n  function goPrevPage() {\n    dispatch({ type: 'PREV_PAGE' });\n  }\n\n  function goPage(idx) {\n    dispatch({ type: 'GO_PAGE', payload: idx });\n  }\n\n  function getCurrentPage() {\n    return _.get(state.course, `pages[${state.player?.curPage - 1}]`) || {};\n  }\n\n  const getPages = useCallback(() => {\n    return state.course?.pages || [];\n  }, [state.course]);\n\n  function getColorScheme() {\n    return state.course?.colorScheme || {};\n  }\n\n  function getCoursePercentage() {\n    return Math.round((getCountPagesCompleted() / state.player?.maxPage) * 100);\n  }\n\n  //////////////////\n  // useTracking\n  //////////////////\n\n  const getTracking = useCallback(\n    (resourceId) => {\n      return _.get(state.tracking, resourceId) || {};\n    },\n    [state.tracking]\n  );\n\n  function restoreTracking(data) {\n    dispatch({ type: 'RESTORE_TRACKING', payload: data });\n  }\n\n  function patchTracking(resourceId, data) {\n    dispatch({ type: 'PATCH_TRACKING', payload: { resourceId, data } });\n  }\n\n  function clearTracking(resourceId) {\n    dispatch({ type: 'CLEAR_TRACKING', payload: { resourceId } });\n  }\n\n  function setMessage(key, value) {\n    dispatch({ type: 'SET_MESSAGE', payload: { key, value } });\n  }\n\n  function setMessageCourseCompleted(message) {\n    setMessage(\n      'courseCompleted',\n      message || state.player.messages.courseCompleted\n    );\n  }\n\n  function onPageStarted() {\n    const { resourceId } = getCurrentPage();\n    const data = { started: true };\n    patchTracking(resourceId, data);\n  }\n\n  function onPageCompleted(callback = () => {}) {\n    const { resourceId } = getCurrentPage();\n\n    // avoid double calling\n    const wasCompletedBefore = getTracking(resourceId)?.completed;\n    if (wasCompletedBefore) return;\n\n    const data = { completed: true };\n    patchTracking(resourceId, data);\n\n    // must show tooltip to advance?\n    callback && typeof callback === 'function' && !isInLastPage() && callback();\n  }\n\n  function isInFirstPage() {\n    return state.player.curPage === 1;\n  }\n\n  function isInLastPage() {\n    return state.player.curPage === state.player.maxPage;\n  }\n\n  function saveTrackingAsSuspendData(updatedState) {\n    // save suspend data (when in scorm)\n    try {\n      if (!updatedState.player.disableScorm) {\n        // using debounce to avoid spamming suspend_data\n        if (!debouncedSetSuspendData) return;\n        debouncedSetSuspendData.current?.cancel &&\n          debouncedSetSuspendData.current.cancel();\n        debouncedSetSuspendData.current = _.debounce(\n          () => setSuspendData(updatedState.tracking),\n          2000 // every 2 secs save suspend_data\n        );\n        debouncedSetSuspendData.current();\n      }\n    } catch (err) {\n      handleError(err);\n    }\n  }\n\n  const getCountPagesCompleted = useCallback(() => {\n    const pages = getPages();\n    let pagesCompleted = 0;\n    _.forEach(pages, ({ resourceId }) => {\n      const { completed } = getTracking(resourceId);\n      completed === true && pagesCompleted++;\n    });\n    return pagesCompleted;\n  }, [getPages, getTracking]);\n\n  const getPagesCompleted = useCallback(() => {\n    const pages = getPages();\n    const completedPages = [];\n    _.forEach(pages, ({ resourceId }, idx) => {\n      const { completed } = getTracking(resourceId);\n      completed === true && completedPages.push(idx);\n    });\n    return completedPages;\n  }, [getPages, getTracking]);\n\n  function onPageChanged(currentPage) {\n    const hasFaceVideo = !!currentPage?.facevideo;\n    if (hasFaceVideo && !state.player.showMenu) toggleMenu();\n  }\n\n  const isCourseCompleted = useCallback(() => {\n    return !!getTracking(state.course.courseId).completed;\n  }, [getTracking, state.course.courseId]);\n\n  const onCourseCompleted = useCallback(() => {\n    if (isCourseCompleted()) return;\n    !state.player.disableScorm &&\n      toast.success(state.player.messages.courseCompleted);\n\n    const { courseId, pages } = state.course;\n    const data = { completed: true, completedAt: new Date() };\n    patchTracking(courseId, data);\n\n    // mark lesson status as completed\n    if (!state.player.disableScorm) {\n      setCompleted(state.test.callback);\n\n      const overallScore = getOverallScore(state.course, state.tracking);\n      if (overallScore.completed) {\n        overallScore.passed\n          ? setPassed(state.test.callback)\n          : setFailed(state.test.callback);\n      } else {\n        // check if has quiz or minigame...\n        const hasQuizOrMinigame = !!_.find(\n          pages,\n          ({ resourceType }) =>\n            resourceType === 'quiz' || resourceType === 'game'\n        );\n        // // if does not have any ot them, also set course aas passed\n        if (!hasQuizOrMinigame) setPassed(state.test.callback);\n      }\n    }\n  }, [\n    isCourseCompleted,\n    setCompleted,\n    setPassed,\n    setFailed,\n    state.course,\n    state.tracking,\n    state.player.disableScorm,\n    state.player.messages.courseCompleted,\n    state.test.callback,\n  ]);\n\n  function setCourseScore(score) {\n    !state.player.disableScorm && setScore(score, state.test.callback);\n  }\n\n  function setCoursePassed() {\n    !state.player.disableScorm && setPassed(state.test.callback);\n  }\n\n  function setCourseFailed() {\n    !state.player.disableScorm && setFailed(state.test.callback);\n  }\n\n  function exitCourse() {\n    !state.player.disableScorm && exitScorm(state.test.callback);\n  }\n\n  function setScormReady(ready) {\n    dispatch({ type: 'SET_SCORM_READY', payload: ready });\n  }\n\n  function setScormInitialData(initialData = {}) {\n    dispatch({ type: 'SET_SCORM_INITIAL_DATA', payload: initialData });\n  }\n\n  function setDisableScorm(disable) {\n    dispatch({ type: 'SET_DISABLE_SCORM', payload: disable });\n  }\n\n  function setEditMode(editMode) {\n    dispatch({ type: 'SET_EDIT_MODE', payload: editMode });\n  }\n\n  function setTestCallback(callbackFunction) {\n    dispatch({ type: 'SET_TEST_CALLBACK', payload: callbackFunction });\n  }\n\n  function setLocalLanguage(l) {\n    localLanguage.current = l;\n  }\n\n  const isNavigationModeFree =\n    state?.course?.settings?.navigationMode === 'free';\n\n  const showCloseCourseButton =\n    state?.course?.settings?.showCloseCourseButton === true;\n\n  // save curPage on lesson location\n  useEffect(() => {\n    try {\n      if (state.player.curPage === 1 || state.player.disableScorm) return;\n\n      setLessonLocation(\n        JSON.stringify({\n          curPage: state.player.curPage,\n          completed: getPagesCompleted(),\n        }),\n        state.test.callback\n      );\n    } catch (err) {\n      handleError(err);\n    }\n  }, [\n    setLessonLocation,\n    state.player.curPage,\n    state.player.disableScorm,\n    state.test.callback,\n    getPagesCompleted,\n  ]);\n\n  useEffect(() => {\n    if (getCountPagesCompleted() === state.player?.maxPage) {\n      onCourseCompleted();\n    }\n  }, [getCountPagesCompleted, onCourseCompleted, state.player]);\n\n  function handleError(err) {\n    console.error(err);\n    toast.error(err.message || err);\n  }\n\n  return {\n    player: state.player,\n    scorm: state.scorm,\n    course: state.course,\n    tracking: state.tracking,\n    initCourseData,\n    toggleMenu,\n    goNextPage,\n    goPrevPage,\n    goPage,\n    getCurrentPage,\n    getPages,\n    getColorScheme,\n    getTracking,\n    patchTracking,\n    restoreTracking,\n    clearTracking,\n    setMessageCourseCompleted,\n    onPageStarted,\n    onPageCompleted,\n    getCoursePercentage,\n    onPageChanged,\n    setDisableScorm,\n    setScormReady,\n    setScormInitialData,\n    setEditMode,\n    setTestCallback,\n    handleError,\n    setCourseScore,\n    setCoursePassed,\n    setCourseFailed,\n    exitCourse,\n    isInFirstPage,\n    isInLastPage,\n    setLocalLanguage,\n    courseCompleted: isCourseCompleted(),\n    isNavigationModeFree,\n    showCloseCourseButton,\n  };\n}\n\nexport default useGlobal;\n","import { useRef, useEffect } from 'react';\n\nfunction usePrevious(value) {\n  // The ref object is a generic container whose current property is mutable ...\n  // ... and can hold any value, similar to an instance property on a class\n  const ref = useRef();\n\n  // Store current value in ref\n  useEffect(() => {\n    ref.current = value;\n  }, [value]); // Only re-run if value changes\n\n  // Return previous value (happens before update in useEffect above)\n  return ref.current;\n}\n\nexport default usePrevious;\n","import React, { useEffect, useMemo, useState } from 'react';\nimport _ from 'lodash';\n\nfunction Preloader({\n  course = {},\n  curPage = 0,\n}: {\n  course?: {\n    pages?: any[];\n    baseURL?: string;\n  };\n  curPage?: number;\n}) {\n  type StackItem = {\n    pageIdx: number;\n    url: string;\n  };\n\n  const { pages = [], baseURL = '' } = course;\n  const [stack, setStack] = useState<StackItem[]>([]);\n  const limit = 5; // will load the next/prev N pages\n\n  useEffect(() => {\n    const initialStack: StackItem[] = [];\n    _.forEach(pages, (page = {}, idx) => {\n      if (page.filename)\n        initialStack.push({\n          pageIdx: idx,\n          url: `${baseURL}/${page.filename}`,\n        });\n      //   if (page.audio?.name) urls.push(`${baseURL}/${page.audio?.name}`);\n      //   if (page.facevideo?.name) urls.push(`${baseURL}/${page.facevideo?.name}`);\n      //   if (page.video?.name) urls.push(`${baseURL}/${page.video?.name}`);\n    });\n\n    if (_.isEmpty(initialStack)) return;\n\n    setStack(initialStack);\n  }, [baseURL, pages]);\n\n  const filteredStack = useMemo(\n    () =>\n      _.filter(\n        stack,\n        (s) =>\n          s.pageIdx > curPage - (limit - 1) && s.pageIdx < curPage + (limit - 1)\n      ),\n    [stack, curPage]\n  );\n\n  function handleOnMediaPreloaded(src: string) {\n    setStack(_.filter(stack, (s) => s.url !== src)); // remove from stack\n  }\n\n  function Media({ src, onLoad }: { src?: string; onLoad?: Function }) {\n    if (!src) {\n      return null;\n    }\n    return (\n      // eslint-disable-next-line\n      <img\n        src={src}\n        onLoad={() => {\n          // console.log(`Preloading ${src}: complete!`);\n          onLoad && onLoad(src);\n        }}\n      />\n    );\n  }\n\n  return (\n    <div style={{ display: 'none' }}>\n      <Media src={filteredStack[0]?.url} onLoad={handleOnMediaPreloaded} />\n    </div>\n  );\n}\n\nexport default Preloader;\n","import React from 'react';\nimport { useContextSelector } from 'use-context-selector';\nimport Modal from 'react-modal';\n\nimport styles from './ConfirmDialog.module.scss';\nimport { UIContext } from '../../context/UI/UIContext';\nimport Icon from '../Icon/Icon';\nimport Button from '../Button/Button';\n\nfunction ConfirmDialog() {\n  const {\n    onConfirm,\n    onClickOutside,\n    isOpen,\n    title,\n    description,\n    cancelLabel,\n    confirmLabel,\n    type,\n    confirmClassName,\n    cancelClassName,\n  } = useContextSelector(UIContext, (c) => c.confirmModal);\n  const hideConfirm = useContextSelector(UIContext, (c) => c.hideConfirm);\n  const success = type === 'success';\n  const danger = type === 'danger';\n\n  function handleCancel() {\n    onClickOutside && onClickOutside();\n    hideConfirm();\n  }\n\n  function handleConfirm() {\n    onConfirm && onConfirm();\n    hideConfirm();\n  }\n\n  return (\n    <Modal\n      isOpen={!!isOpen}\n      onRequestClose={handleCancel}\n      className={styles.content}\n      overlayClassName={styles.overlay}\n      portalClassName={styles.portal}\n      ariaHideApp={false}\n    >\n      <div\n        className={[\n          styles.ConfirmDialog,\n          success && styles.ConfirmDialogSuccess,\n          danger && styles.ConfirmDialogDanger,\n        ].join(' ')}\n      >\n        {(success || danger) && <Icon icon=\"times\" />}\n        {title && <h2>{title}</h2>}\n        {description && <p>{description}</p>}\n        <div>\n          <Button\n            size=\"small\"\n            cancel\n            onClick={handleCancel}\n            className={cancelClassName}\n            testId=\"buttonConfirmDialogCancel\"\n          >\n            {cancelLabel || 'Cancel'}\n          </Button>\n          <Button\n            size=\"small\"\n            success={success}\n            danger={danger}\n            onClick={handleConfirm}\n            className={confirmClassName}\n            testId=\"buttonConfirmDialogConfirm\"\n          >\n            {confirmLabel || 'Confirm'}\n          </Button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nexport default ConfirmDialog;\n","import { useEffect, useRef } from 'react';\nimport { useContextSelector } from 'use-context-selector';\nimport _ from 'lodash';\n\nimport styles from './BookmarkDialog.module.scss';\nimport { UIContext } from '../context/UI/UIContext';\nimport Label from '../context/Label/Label';\n\ntype BookmarkDialogProps = {\n  globalState: any;\n  onDialogShow: () => void;\n  onDialogHide: () => void;\n};\n\nfunction BookmarkDialog({\n  globalState = {},\n  onDialogShow,\n  onDialogHide,\n}: BookmarkDialogProps) {\n  const { scorm, goPage, handleError } = globalState;\n  const showConfirm = useContextSelector(UIContext, (c) => c.showConfirm);\n  const hasCheckedBookmark = useRef<boolean>();\n  hasCheckedBookmark.current = false;\n\n  useEffect(() => {\n    const { lessonLocation = {} } = scorm.initialScormData;\n\n    if (!_.isEmpty(lessonLocation)) {\n      // to avoid multiple calling (has to check only once)\n      if (hasCheckedBookmark.current) return;\n      hasCheckedBookmark.current = true;\n\n      try {\n        const lastVisitedPage = JSON.parse(lessonLocation)?.curPage;\n        if (lastVisitedPage > 1) {\n          const handleConfirm = (lastVisitedPage: number) => {\n            goPage(lastVisitedPage);\n            onDialogHide();\n          };\n\n          const handleCancel = () => {\n            onDialogHide();\n          };\n\n          onDialogShow();\n          showConfirm({\n            description: <Label>Return to the last visited page?</Label>,\n            onConfirm: () => handleConfirm(lastVisitedPage),\n            onClickOutside: handleCancel,\n            confirmLabel: <Label>yes</Label>,\n            cancelLabel: <Label>no</Label>,\n            confirmClassName: styles.bookmarkConfirmButton,\n            cancelClassName: styles.bookmarkCancelButton,\n          });\n        }\n      } catch (err) {\n        console.error(err);\n        handleError(new Error('Cannot parse lesson_location'));\n        console.log({ lessonLocation });\n      }\n    }\n  }, [scorm.scormReady, scorm.initialScormData]); // eslint-disable-line\n  return null;\n}\n\nexport default BookmarkDialog;\n","// useReducer with Typescript:\n// https://github.com/hswolff/youtube/blob/master/videos/why-i-love-usereducer/src/LoginUseReducerTypeScript.tsx\n\nimport React, { useReducer, ReactNode } from 'react';\nimport { createContext } from 'use-context-selector';\n\ntype LicenseState = {\n  verifiedLicense?: VerifiedLicense;\n  setVerifiedLicense: (license: VerifiedLicense) => void;\n};\n\nexport type VerifiedLicense = {\n  licenseId: string;\n  licensedTo: string;\n  licenseStatus: 'active' | 'inactive' | 'expired';\n  expiresOnDate: Date;\n  denied: boolean;\n};\n\nconst initialState: LicenseState = {\n  setVerifiedLicense: () => {},\n};\n\ntype LicenseAction = { type: 'SET_VERIFIED_LICENSE'; payload: VerifiedLicense };\n\nfunction uiReducer(state: LicenseState, action: LicenseAction): LicenseState {\n  switch (action.type) {\n    case 'SET_VERIFIED_LICENSE':\n      return {\n        ...state,\n        verifiedLicense: action.payload,\n      };\n    default:\n      return state;\n  }\n}\n\nexport const LicenseContext = createContext(initialState as LicenseState);\n\nexport default function LicenseProvider(props: { children: ReactNode }) {\n  const [state, dispatch] = useReducer(uiReducer, initialState);\n\n  // Actions\n  // reminder: always dispatch; otherwise, is a SELECTOR, not an ACTION\n  function setVerifiedLicense(license: VerifiedLicense) {\n    dispatch({\n      type: 'SET_VERIFIED_LICENSE',\n      payload: license,\n    });\n  }\n\n  return (\n    <LicenseContext.Provider\n      value={{\n        ...state,\n        setVerifiedLicense,\n      }}\n    >\n      {props.children}\n    </LicenseContext.Provider>\n  );\n}\n","import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport ReactModal from 'react-modal';\nimport { useContextSelector } from 'use-context-selector';\nimport _ from 'lodash';\n\nimport styles from './LicenseCheck.module.scss';\nimport {\n  LicenseContext,\n  VerifiedLicense,\n} from '../../context/License/LicenseContext';\nimport Icon from '../Icon/Icon';\nimport Button from '../Button/Button';\nimport Label from '../../context/Label/Label';\n\ntype LicenseCheckProps = {\n  globalState: any;\n};\n\ntype DeniedCode = 'expired' | 'inactive' | 'not-found' | 'check-failed';\n\nfunction LicenseCheck({ globalState = {} }: LicenseCheckProps) {\n  const { verifiedLicense, setVerifiedLicense } = useContextSelector(\n    LicenseContext,\n    (c) => c\n  );\n  const { course = {}, scorm = {} } = globalState;\n  const { license = {} } = course;\n  const { studentId, studentName } = scorm.initialScormData;\n  const { id, serviceUrl } = license;\n  const [deniedCode, setDeniedCode] = useState<DeniedCode>();\n  const isJustAWarning = deniedCode === 'check-failed';\n\n  const messages = {\n    expired: {\n      title: 'License expired',\n      message: 'The course cannot be accessed due to an expired license.',\n      callToAction: 'Contact the vendor to renew.',\n    },\n    inactive: {\n      title: 'License inactive',\n      message: 'The course cannot be accessed due to an inactive license.',\n      callToAction: 'Contact the vendor to reactivate.',\n    },\n    'not-found': {\n      title: 'License not found',\n      message:\n        'The course cannot be accessed due to the license not being found.',\n      callToAction: 'Contact the vendor to verify this course license.',\n    },\n    'check-failed': {\n      title: 'License could not be verified',\n      message: 'An error occurred while checking this license.',\n      callToAction: 'Contact the vendor to avoid this message.',\n    },\n  };\n\n  function getCourseId(course = {}) {\n    // @ts-ignore\n    return course.courseId || course.id || course.docId;\n  }\n\n  useEffect(() => {\n    if (!id || !serviceUrl) return;\n\n    fetchLicense();\n\n    async function fetchLicense() {\n      try {\n        const { data } = await axios.post<VerifiedLicense>(serviceUrl, {\n          origin: document?.location?.origin,\n          studentId,\n          studentName,\n          courseId: getCourseId(course),\n          courseName: course.name,\n        });\n        setVerifiedLicense(data);\n        if (data.denied && data.licenseStatus !== 'active')\n          setDeniedCode(data.licenseStatus);\n      } catch (err) {\n        console.error(err);\n        if (_.get(err, 'response.status') === 404) {\n          setDeniedCode('not-found');\n        } else {\n          setDeniedCode('check-failed');\n        }\n      }\n    }\n  }, []); // eslint-disable-line\n\n  if (deniedCode)\n    return (\n      <ReactModal\n        isOpen={true}\n        className={styles.content}\n        overlayClassName={styles.overlay}\n        portalClassName={styles.portal}\n        ariaHideApp={false}\n      >\n        <div className={styles.messageContainer} data-testid=\"LicenseCheck\">\n          {isJustAWarning ? (\n            <Icon icon=\"exclamation\" className={styles.warningIcon} />\n          ) : (\n            <Icon icon=\"times\" className={styles.dangerIcon} />\n          )}\n          <p>\n            <Label>{messages[deniedCode].title}</Label>\n          </p>\n          <span>\n            <Label>{messages[deniedCode].message}</Label>\n          </span>\n          <span>\n            <Label>{messages[deniedCode].callToAction}</Label>\n          </span>\n          <hr />\n          <span className={styles.licenseInfo}>\n            {course?.name} ({getCourseId(course)})\n          </span>\n          {verifiedLicense && (\n            <span className={styles.licenseInfo}>\n              Licensed to: {verifiedLicense.licensedTo}\n            </span>\n          )}\n          <span className={styles.licenseInfo}>\n            License id: {course?.license?.id}\n          </span>\n          {isJustAWarning && (\n            <Button\n              className={styles.okButton}\n              onClick={() => setDeniedCode(undefined)}\n            >\n              ok\n            </Button>\n          )}\n        </div>\n      </ReactModal>\n    );\n\n  return null;\n}\n\nexport default LicenseCheck;\n","// Todo:\n// - Melhorar efeito do PlaceholderSlide\n// - Colocar fadeIn nos componentes Video, Quiz, Minigame...\n\nimport React, { memo, useEffect, useState } from 'react';\nimport { ToastContainer, Slide } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport _ from 'lodash';\n\nimport styles from './CoursePlayer.module.scss';\nimport Header from './Header/Header';\nimport NavFooter from './NavFooter/NavFooter';\nimport Main from './Main/Main';\nimport Menu from './Menu/Menu';\nimport OutsideAlerter from './UI/OutsiderAlerter/OutsiderAlerter';\nimport { isViewportMobile } from './utils/utils';\nimport useGlobal from './hooks/useGlobal';\nimport useScorm from './hooks/useScorm';\nimport usePrevious from './hooks/usePrevious';\nimport Spinner from './UI/Spinner/Spinner';\nimport Preloader from './Preloader/Preloader';\nimport LabelProvider from './context/Label/LabelContext';\nimport { labels, config } from './constants/labels.json';\nimport UIProvider from './context/UI/UIContext';\nimport ConfirmDialog from './UI/ConfirmDialog/ConfirmDialog';\nimport BookmarkDialog from './BookmarkDialog/BookmarkDialog';\nimport LicenseProvider from './context/License/LicenseContext';\nimport LicenseCheck from './UI/LicenseCheck/LicenseCheck';\n\nfunction CoursePlayer(props) {\n  const {\n    course,\n    onPageChanged,\n    curPage,\n    disableScorm,\n    editMode = false,\n    customLabels,\n    onLoad,\n    testFunction,\n    emulatedScormData = {},\n  } = props;\n  const globalState = useGlobal();\n  const {\n    player,\n    scorm,\n    toggleMenu,\n    initCourseData,\n    getCurrentPage,\n    goPage,\n    setScormReady,\n    setScormInitialData,\n    setDisableScorm,\n    restoreTracking,\n    handleError,\n    setMessageCourseCompleted,\n    setEditMode,\n    setTestCallback,\n  } = globalState;\n  const currentPage = getCurrentPage();\n  const prevCurrentPage = usePrevious(currentPage);\n  const { initializeScormAsync, getSuspendData } = useScorm();\n  const [isShownBookmarkDialog, setIsShownBookmarkDialog] = useState(false);\n\n  useEffect(() => {\n    // edit mode\n    setEditMode(!!editMode);\n\n    // on load\n    onLoad && onLoad({ labels, languages: config.languages });\n\n    // disable scorm coming from props\n    if (disableScorm) {\n      setDisableScorm(true);\n      return;\n    }\n\n    doInitializeScorm();\n\n    testFunction && setTestCallback(testFunction);\n\n    async function doInitializeScorm() {\n      try {\n        // initialize SCORM\n        const scormData = await initializeScormAsync({ emulatedScormData });\n        console.log('Scorm initialized successfully:', scormData);\n\n        // restore suspend_data\n        // first, using suspend_data\n        let suspendData = {};\n        try {\n          if (!_.isEmpty(scormData?.suspendData)) {\n            suspendData = getSuspendData(scormData?.suspendData);\n          }\n        } catch (err) {\n          console.error(err);\n          handleError(new Error('Cannot parse suspend_data'));\n          console.log({ scormData });\n        }\n\n        // second, from completed on lessonLocation\n        if (!_.isEmpty(scormData?.lessonLocation)) {\n          try {\n            const { completed } = JSON.parse(scormData?.lessonLocation || '{}');\n            const { pages = [] } = course || {};\n            _.forEach(pages, (page, pageIdx) => {\n              if (page?.resourceId && _.includes(completed, pageIdx)) {\n                suspendData = {\n                  ...suspendData,\n                  [page.resourceId]: {\n                    ...suspendData[page.resourceId],\n                    completed: true,\n                  },\n                };\n              }\n            });\n          } catch (err) {\n            console.error(err);\n            handleError(new Error('Cannot parse lesson_location'));\n            console.log({ scormData });\n          }\n        }\n        // finally restore\n        restoreTracking(suspendData);\n\n        setScormInitialData(scormData);\n        setScormReady(true);\n      } catch (err) {\n        handleError(err);\n        setDisableScorm(true);\n      }\n    }\n  }, []); // eslint-disable-line\n\n  useEffect(() => {\n    initCourseData(course);\n  }, [course]); //eslint-disable-line\n\n  useEffect(() => {\n    // avoid first time calling\n    if (\n      !currentPage ||\n      !prevCurrentPage ||\n      currentPage.resourceId === prevCurrentPage.resourceId\n    ) {\n      if (currentPage?.facevideo && !player?.showMenu) toggleMenu();\n      return;\n    }\n\n    onPageChanged && onPageChanged(currentPage);\n    globalState.onPageChanged(currentPage);\n  }, [currentPage]); //eslint-disable-line\n\n  useEffect(() => {\n    !isNaN(curPage) && goPage(curPage);\n  }, [curPage]); //eslint-disable-line\n\n  function handleClickOutside() {\n    isViewportMobile() && player?.showMenu && toggleMenu();\n  }\n\n  function renderMenu() {\n    const className = [styles.CoursePlayer__menu];\n\n    !player?.showMenu && className.push(styles['CoursePlayer__menu--hidden']);\n\n    return (\n      <OutsideAlerter onClickOutside={handleClickOutside}>\n        <div className={className.join(' ')}>\n          <Menu globalState={globalState} />\n        </div>\n      </OutsideAlerter>\n    );\n  }\n\n  function handleLanguageChanged(language) {\n    setMessageCourseCompleted(_.get(labels, `Course-completed.${language}`));\n  }\n\n  const canRenderCourse = !!course && (scorm.scormReady || player.disableScorm);\n\n  if (!canRenderCourse) return <Spinner />;\n\n  return (\n    <LabelProvider\n      labels={labels}\n      language={course?.language}\n      languages={config.languages}\n      customLabels={customLabels}\n      onLanguageChanged={handleLanguageChanged}\n    >\n      <UIProvider>\n        <LicenseProvider>\n          <div className={styles.CoursePlayer}>\n            <ToastContainer transition={Slide} />\n            {scorm.scormReady && <LicenseCheck globalState={globalState} />}\n            <ConfirmDialog />\n            <BookmarkDialog\n              globalState={globalState}\n              onDialogShow={() => setIsShownBookmarkDialog(true)}\n              onDialogHide={() => setIsShownBookmarkDialog(false)}\n            />\n            {!editMode && (\n              <Preloader\n                course={course}\n                curPage={globalState?.player?.curPage}\n              />\n            )}\n            {!isShownBookmarkDialog && renderMenu()}\n            {!isShownBookmarkDialog && (\n              <div className={styles.CoursePlayer__main}>\n                <Header globalState={globalState} />\n                <Main globalState={globalState} />\n                <NavFooter globalState={globalState} />\n              </div>\n            )}\n          </div>\n        </LicenseProvider>\n      </UIProvider>\n    </LabelProvider>\n  );\n}\n\nexport default memo(CoursePlayer);\n","import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nimport './App.css';\nimport CoursePlayer from './components/CoursePlayer/CoursePlayer';\nimport Spinner from './components/CoursePlayer/UI/Spinner/Spinner';\n\nfunction App() {\n  const [course, setCourse] = useState({});\n  const [isFetching, setIsFetching] = useState(true);\n\n  useEffect(() => {\n    async function fetchCourse() {\n      const res = await axios.get(`data/course.json`);\n      if (!res.data) return;\n      setCourse(res.data);\n      setIsFetching(false);\n    }\n    fetchCourse();\n  }, []);\n\n  if (isFetching) return <Spinner />;\n\n  return (\n    <div className=\"App\">\n      <CoursePlayer\n        course={course}\n        // @ts-ignore\n        customLabels={course?.customLabels}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dropzone\":\"DroppableArea_dropzone__3tbTU\",\"dropzone_source\":\"DroppableArea_dropzone_source__1g43N\",\"dropzone_destination\":\"DroppableArea_dropzone_destination__1djXe\",\"dropzoneIsDragging\":\"DroppableArea_dropzoneIsDragging__Il8Wx\",\"droppableTextWrapper\":\"DroppableArea_droppableTextWrapper__12QQW\",\"droppableTextWrapperWithArrow\":\"DroppableArea_droppableTextWrapperWithArrow__3zOpZ\",\"droppableTextWrapperNoLeftBorder\":\"DroppableArea_droppableTextWrapperNoLeftBorder__1EmKe\",\"droppableTextWrapperCorrect\":\"DroppableArea_droppableTextWrapperCorrect__2L7ej\",\"droppableTextWrapperIncorrect\":\"DroppableArea_droppableTextWrapperIncorrect__1SoXq\",\"text\":\"DroppableArea_text__1e_by\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"QuizResultOverall_root__3zTv5\",\"detail\":\"QuizResultOverall_detail__2uhUI\",\"badgeMain\":\"QuizResultOverall_badgeMain__18ELb\",\"badge\":\"QuizResultOverall_badge__3z7aq\",\"hidden\":\"QuizResultOverall_hidden__2onBF\",\"iconToggleExpand\":\"QuizResultOverall_iconToggleExpand__o3UQt\",\"alert\":\"QuizResultOverall_alert__1Jh-d\",\"fadein\":\"QuizResultOverall_fadein__38uJR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"LicenseCheck_overlay__1c3cr\",\"fadein\":\"LicenseCheck_fadein__1BdKd\",\"content\":\"LicenseCheck_content__10bCw\",\"portal\":\"LicenseCheck_portal__3uFTc\",\"messageContainer\":\"LicenseCheck_messageContainer__2G9yt\",\"licenseInfo\":\"LicenseCheck_licenseInfo__Od6_g\",\"warningIcon\":\"LicenseCheck_warningIcon__2NNHJ\",\"dangerIcon\":\"LicenseCheck_dangerIcon__1ODIE\",\"okButton\":\"LicenseCheck_okButton__FhC-h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavFooter\":\"NavFooter_NavFooter__3GVcV\",\"NavFooter__audio\":\"NavFooter_NavFooter__audio__2HkBE\",\"NavFooter__navbuttons\":\"NavFooter_NavFooter__navbuttons__3-0Cp\",\"NavFooter__progress\":\"NavFooter_NavFooter__progress__je6gd\",\"NavFooter__button__blink\":\"NavFooter_NavFooter__button__blink__LCb_U\",\"blinker\":\"NavFooter_blinker__1ry03\",\"tooltip\":\"NavFooter_tooltip__1Jsny\",\"NavFooter__button\":\"NavFooter_NavFooter__button__2ljZ1\",\"NavFooter__nextButton\":\"NavFooter_NavFooter__nextButton__G-TuU\",\"fadein\":\"NavFooter_fadein__M8wKC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"clickable\":\"Badge_clickable__3M0St\",\"Badge\":\"Badge_Badge__39Su4\",\"success\":\"Badge_success__3mol0\",\"darken\":\"Badge_darken__Nt08L\",\"warning\":\"Badge_warning__1XGIF\",\"danger\":\"Badge_danger__X0xm-\",\"cancel\":\"Badge_cancel__14THb\",\"purple\":\"Badge_purple__2G356\",\"fadein\":\"Badge_fadein__2VyuU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"Header_Header__1YEIK\",\"Header__left\":\"Header_Header__left__3fv2Q\",\"Header__icon\":\"Header_Header__icon__2NMs7\",\"Header__title\":\"Header_Header__title__3aHIg\",\"Header__right\":\"Header_Header__right__uNrRT\",\"Header__closeIcon\":\"Header_Header__closeIcon__3VaZz\",\"Header__logo\":\"Header_Header__logo__S1epo\",\"fadein\":\"Header_fadein__R0Fzr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemWrapper\":\"DraggableItem_itemWrapper__2wj9b\",\"item\":\"DraggableItem_item__1V8gy\",\"itemWithArrow\":\"DraggableItem_itemWithArrow__32fDl\",\"itemIsDragging\":\"DraggableItem_itemIsDragging__3aumZ\",\"itemIsDraggingOver\":\"DraggableItem_itemIsDraggingOver__3VPe7\",\"fadeOut\":\"DraggableItem_fadeOut__OVjvM\",\"itemIsCorrect\":\"DraggableItem_itemIsCorrect__1d74c\",\"itemIsIncorrect\":\"DraggableItem_itemIsIncorrect__2Rla3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"CertificateItself_root__ID3j5\",\"inner\":\"CertificateItself_inner__9GdIL\",\"main\":\"CertificateItself_main__2w0EK\",\"bottom\":\"CertificateItself_bottom__35NvL\",\"description\":\"CertificateItself_description__Cpq6T\",\"signature\":\"CertificateItself_signature__1qT6m\",\"instructor\":\"CertificateItself_instructor__2UIgU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MenuItem\":\"MenuItem_MenuItem__2N2R8\",\"MenuItem--active\":\"MenuItem_MenuItem--active__1iOq6\",\"MenuItem--disabled\":\"MenuItem_MenuItem--disabled__1zkbU\",\"MenuItem__icon\":\"MenuItem_MenuItem__icon__24hxa\",\"MenuItem__label\":\"MenuItem_MenuItem__label__96UD8\",\"MenuItem__completed\":\"MenuItem_MenuItem__completed__1WP4d\",\"fadein\":\"MenuItem_fadein__4u1Fv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Feedback\":\"Feedback_Feedback__1T3jc\",\"Feedback__type\":\"Feedback_Feedback__type__1c9JE\",\"Feedback__icon\":\"Feedback_Feedback__icon__1Wjgk\",\"Feedback__text\":\"Feedback_Feedback__text__2nC5p\",\"--correct\":\"Feedback_--correct__Idjfg\",\"--incorrect\":\"Feedback_--incorrect__4Z9Hc\",\"fadein\":\"Feedback_fadein__KLcuo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Quiz__result\":\"QuizResult_Quiz__result__3VKNC\",\"Quiz__result__detail\":\"QuizResult_Quiz__result__detail__1nUL4\",\"Quiz__result__passingScore\":\"QuizResult_Quiz__result__passingScore__pSnRL\",\"Quiz__result__passingScore__passed\":\"QuizResult_Quiz__result__passingScore__passed__1-hkv\",\"Quiz__result__passingScore__failed\":\"QuizResult_Quiz__result__passingScore__failed__Njp2B\",\"Quiz__result__passingScore__icon\":\"QuizResult_Quiz__result__passingScore__icon__1yyqV\",\"fadein\":\"QuizResult_fadein__TcRzG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Alert\":\"Alert_Alert__JOIl4\",\"Alert__primary\":\"Alert_Alert__primary__vY7CC\",\"Alert__success\":\"Alert_Alert__success__pqIWd\",\"Alert__warning\":\"Alert_Alert__warning__2JMFu\",\"Alert__danger\":\"Alert_Alert__danger__3_r40\",\"Alert__purple\":\"Alert_Alert__purple__3YCs8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ConfirmDialog\":\"ConfirmDialog_ConfirmDialog__Tif59\",\"ConfirmDialogSuccess\":\"ConfirmDialog_ConfirmDialogSuccess__J3Fpi\",\"ConfirmDialogDanger\":\"ConfirmDialog_ConfirmDialogDanger__1RtNe\",\"overlay\":\"ConfirmDialog_overlay__1I2eU\",\"fadein\":\"ConfirmDialog_fadein__1X_vm\",\"content\":\"ConfirmDialog_content__2_79s\",\"portal\":\"ConfirmDialog_portal__t4pMr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Question__counter\":\"Question_Question__counter__1pUji\",\"Question__question\":\"Question_Question__question__1YDEF\",\"Question__feedback\":\"Question_Question__feedback__VGhke\",\"Question__image\":\"Question_Question__image__1lsXS\",\"fadein\":\"Question_fadein__1YLg3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Sentence\":\"Sentence_Sentence__2OSu-\",\"correct\":\"Sentence_correct__2FUeU\",\"incorrect\":\"Sentence_incorrect__BJkU8\",\"preview\":\"Sentence_preview__2bGIY\",\"correctAnswer\":\"Sentence_correctAnswer__Kpby7\",\"fadein\":\"Sentence_fadein__1ABnP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ButtonAlt_root__3LoBx\",\"icon\":\"ButtonAlt_icon__3SI7n\",\"mr\":\"ButtonAlt_mr__eGgg_\",\"gray\":\"ButtonAlt_gray__42xi0\",\"disabled\":\"ButtonAlt_disabled__1nxzn\",\"fadein\":\"ButtonAlt_fadein__Xj1RH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CoursePlayer\":\"CoursePlayer_CoursePlayer__1HZRm\",\"CoursePlayer__main\":\"CoursePlayer_CoursePlayer__main__2Ul0S\",\"CoursePlayer__menu\":\"CoursePlayer_CoursePlayer__menu__2exwD\",\"CoursePlayer__menu--hidden\":\"CoursePlayer_CoursePlayer__menu--hidden__3WKds\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Progress__bar__bg\":\"Progress_Progress__bar__bg__3rtvA\",\"Progress__bar__fg\":\"Progress_Progress__bar__fg__1o1Cu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2WGph\",\"--primary\":\"Button_--primary__M6eN9\",\"--secondary\":\"Button_--secondary__38OM-\",\"--disabled\":\"Button_--disabled__1IuPa\",\"fadein\":\"Button_fadein__23IBf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Quiz\":\"Quiz_Quiz__3h5C1\",\"fadein\":\"Quiz_fadein__1VAs2\",\"Quiz__question\":\"Quiz_Quiz__question__36IOl\",\"Quiz__footer\":\"Quiz_Quiz__footer__3eU0O\",\"Quiz__intro\":\"Quiz_Quiz__intro__3yvg7\",\"Quiz__question__component\":\"Quiz_Quiz__question__component__TL9kd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ContainerPage\":\"ContainerPage_ContainerPage__1eGBx\",\"ContainerPage__container\":\"ContainerPage_ContainerPage__container__Wx-8P\",\"ContainerPage__title\":\"ContainerPage_ContainerPage__title__M0QLO\",\"ContainerPage__body\":\"ContainerPage_ContainerPage__body__3Pb6d\",\"fadein\":\"ContainerPage_fadein__D91Ps\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Radio\":\"Radio_Radio__25Rvm\",\"--correct\":\"Radio_--correct__29LZx\",\"--incorrect\":\"Radio_--incorrect__3HPyr\",\"--showAnswer\":\"Radio_--showAnswer__2BgFc\",\"fadein\":\"Radio_fadein__2e5gF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Essay\":\"Essay_Essay__10viV\",\"Essay__correct\":\"Essay_Essay__correct__3AxI7\",\"Essay__incorrect\":\"Essay_Essay__incorrect__2pJ1n\",\"acceptableResponses\":\"Essay_acceptableResponses__34RAY\",\"fadein\":\"Essay_fadein__-a5sJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Tooltip\":\"Tooltip_Tooltip__MllOQ\",\"ReactTooltip\":\"Tooltip_ReactTooltip__2Fdjt\",\"ReactTooltip__html\":\"Tooltip_ReactTooltip__html__2Q3x1\",\"tooltipHtmlWrapper\":\"Tooltip_tooltipHtmlWrapper__2lZ7Q\",\"blinker\":\"Tooltip_blinker__18_69\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Agreement__checkbox\":\"Agreement_Agreement__checkbox__WlH6u\",\"Agreement\":\"Agreement_Agreement__3MBK1\",\"fadein\":\"Agreement_fadein__2_cMq\",\"Agreement__footer\":\"Agreement_Agreement__footer__xjEWU\",\"Agreement__intro\":\"Agreement_Agreement__intro__1u04p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalOverlayPrintDialogOpen\":\"CertificateModal_modalOverlayPrintDialogOpen__2s65w\",\"fadein\":\"CertificateModal_fadein__1g-lN\",\"modalContent\":\"CertificateModal_modalContent__3Ieto\",\"modalContentInEditMode\":\"CertificateModal_modalContentInEditMode__1aKQZ\",\"topMenu\":\"CertificateModal_topMenu__10kB9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Menu\":\"Menu_Menu__3vsmE\",\"Menu__title\":\"Menu_Menu__title__1UtAL\",\"Menu__list\":\"Menu_Menu__list__1b-mV\",\"Menu__bottom\":\"Menu_Menu__bottom__1GP7v\",\"fadein\":\"Menu_fadein__5qh7r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Label__highlighted\":\"Label_Label__highlighted__RL4cn\",\"Label__highlighted__tracked\":\"Label_Label__highlighted__tracked__OYARI\",\"Label__highlighted__tracked__in__context\":\"Label_Label__highlighted__tracked__in__context__1bmIr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Certificate\":\"Certificate_Certificate__IuQ69\",\"fadein\":\"Certificate_fadein__Y1224\",\"Certificate__intro\":\"Certificate_Certificate__intro__39F-P\",\"awardIcon\":\"Certificate_awardIcon__223ir\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Icon__clickable\":\"Icon_Icon__clickable__2w_N_\",\"fadein\":\"Icon_fadein__3dhz-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PlaceholderSlide\":\"PlaceholderSlide_PlaceholderSlide__XDr7m\",\"fadein\":\"PlaceholderSlide_fadein__3Aq30\",\"PlaceholderSlide__activity\":\"PlaceholderSlide_PlaceholderSlide__activity__3Mkpk\",\"loading\":\"PlaceholderSlide_loading__1CcYS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MultipleChoice\":\"MultipleChoice_MultipleChoice__5FOnW\",\"MultipleChoice__radio\":\"MultipleChoice_MultipleChoice__radio__B-6Tp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"left\":\"Matching_left__24Cvi\",\"right\":\"Matching_right__3d1j8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bookmarkCancelButton\":\"BookmarkDialog_bookmarkCancelButton__3rmEM\",\"bookmarkConfirmButton\":\"BookmarkDialog_bookmarkConfirmButton__5Jt-s\"};"],"sourceRoot":""}